{
	"info": {
		"_postman_id": "2bc6479b-c3fa-463b-8321-e55d7904d1a8",
		"name": "Valise générique",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Generation Token",
			"item": [
				{
					"name": "token_DILA",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"OK\", () => {\r",
									"    pm.response.to.have.status(\"OK\");\r",
									"});\r",
									"\r",
									"var jsonData = JSON.parse(responseBody);\r",
									"pm.environment.set('DILAToken', jsonData.access_token);\r",
									"pm.environment.set('currentOSLToken', jsonData.access_token);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{dilaClientSecret}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{dilaClientid}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "scope",
									"value": "OSL",
									"type": "text"
								},
								{
									"key": "grant_type",
									"value": "client_credentials",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{tokenUrl}}",
							"host": [
								"{{tokenUrl}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "token_DGS",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"OK\", () => {\r",
									"  pm.response.to.have.status(\"OK\");\r",
									"});\r",
									"\r",
									" console.log(\"get token\")\r",
									"\r",
									"var jsonData = JSON.parse(responseBody);\r",
									"pm.environment.set('DGSToken', jsonData.access_token);\r",
									"pm.environment.set('currentOSLToken', jsonData.access_token);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{dgsClientSecret}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{dgsClientId}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "scope",
									"value": "OSL",
									"type": "text"
								},
								{
									"key": "grant_type",
									"value": "client_credentials",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{tokenUrl}}",
							"host": [
								"{{tokenUrl}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "token_CNAF",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"OK\", () => {\r",
									"  pm.response.to.have.status(\"OK\");\r",
									"});\r",
									"\r",
									" console.log(\"get token\")\r",
									"\r",
									"var jsonData = JSON.parse(responseBody);\r",
									"pm.environment.set('CNAFToken', jsonData.access_token);\r",
									"pm.environment.set('currentOSLToken', jsonData.access_token);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{CNAFClientSecret}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{CNAFClientId}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "scope",
									"value": "OSL",
									"type": "text"
								},
								{
									"key": "grant_type",
									"value": "client_credentials",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{tokenUrl}}",
							"host": [
								"{{tokenUrl}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "token_SNATED",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"OK\", () => {\r",
									"  pm.response.to.have.status(\"OK\");\r",
									"});\r",
									"\r",
									" console.log(\"get token\")\r",
									"\r",
									"var jsonData = JSON.parse(responseBody);\r",
									"pm.environment.set('snatedToken', jsonData.access_token);\r",
									"pm.environment.set('currentOSLToken', jsonData.access_token);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{SnatedClient}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{SnatedSecret}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "scope",
									"value": "OSL",
									"type": "text"
								},
								{
									"key": "grant_type",
									"value": "client_credentials",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{tokenUrl}}",
							"host": [
								"{{tokenUrl}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "token_RSA",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"OK\", () => {\r",
									"  pm.response.to.have.status(\"OK\");\r",
									"});\r",
									"\r",
									" console.log(\"get token\")\r",
									"\r",
									"var jsonData = JSON.parse(responseBody);\r",
									"pm.environment.set('snatedToken', jsonData.access_token);\r",
									"pm.environment.set('currentOSLToken', jsonData.access_token);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{RsaSecret}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{RsaClient}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "scope",
									"value": "OSL",
									"type": "text"
								},
								{
									"key": "grant_type",
									"value": "client_credentials",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{tokenUrl}}",
							"host": [
								"{{tokenUrl}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "generation service instructeur",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"OK\", () => {\r",
									"  pm.response.to.have.status(\"OK\");\r",
									"});\r",
									"\r",
									"var jsonData = JSON.parse(responseBody);\r",
									"pm.environment.set('currentSIToken', jsonData.access_token);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{SIClientSecret}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{SIClientId}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "scope",
									"value": "SI",
									"type": "text"
								},
								{
									"key": "grant_type",
									"value": "client_credentials",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{tokenUrl}}",
							"host": [
								"{{tokenUrl}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "A - Création d'un télé-dossier pour les SI",
			"item": [
				{
					"name": "Creer Folder",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"let JDD = {\r",
									"    \"demarche\": {\r",
									"        \"OSL\": {\r",
									"            \"SNATED\": [\"SNATED\"],\r",
									"            \"DGS\": [\"CERTDC\"],\r",
									"            \"DILA\": [\"EtatCivil\", \"JeChangeDeCoordonnees\", \"recensementCitoyen\", \"depotDossierPACS\"],\r",
									"            \"CNAF\": [\"CAF-contact\"],\r",
									"            \"RSA\": [\"RSA\"]\r",
									"        },\r",
									"        \"applicant\": {\r",
									"            \"firstName\": \"Sébastien\",\r",
									"            \"lastName\": \"Cocktail\"\r",
									"        },\r",
									"        \"CERTDC\":\r",
									"        {\r",
									"            \"externalId\": \"DGS-CERTDC-0000000000102\",\r",
									"            \"cases\": [\r",
									"                {\r",
									"                    \"recipient\": {\r",
									"                        \"branchCode\": \"1234\",\r",
									"                        \"type\": \"SI\",\r",
									"                        \"companyRegister\": \"4566\"\r",
									"                    },\r",
									"                    \"externalId\": \"DGS-CERTDC-0000000000102-01\"\r",
									"                },\r",
									"                {\r",
									"                    \"recipient\": {\r",
									"                        \"branchCode\": \"1234\",\r",
									"                        \"type\": \"SI\",\r",
									"                        \"companyRegister\": \"4566\"\r",
									"                    },\r",
									"                    \"externalId\": \"DGS-CERTDC-0000000000102-02\"\r",
									"                }\r",
									"            ],\r",
									"            \"attachments\": [\r",
									"                {\r",
									"                    \"fileName\": \"ER20190860001_20190517_1512_DD.pdf\",\r",
									"                    \"type\": \"DD_Certificatdedeces\",\r",
									"                    \"size\": 96149,\r",
									"                    \"mimeType\": \"application/pdf\",\r",
									"                    \"recipients\": [\r",
									"                        \"DGS-CERTDC-0000000000102-01\"\r",
									"                    ]\r",
									"                },\r",
									"                {\r",
									"                    \"fileName\": \"ER20190860001_20190517_1512_DD.xml\",\r",
									"                    \"type\": \"DD_Certificatdedeces\",\r",
									"                    \"size\": 988,\r",
									"                    \"mimeType\": \"application/xml\",\r",
									"                    \"recipients\": [\r",
									"                        \"DGS-CERTDC-0000000000102-01\"\r",
									"                    ]\r",
									"                },\r",
									"                {\r",
									"                    \"fileName\": \"ER20190860001_20190517_1512_VA.pdf\",\r",
									"                    \"type\": \"VA_CertificatdeDeces\",\r",
									"                    \"size\": 219619,\r",
									"                    \"mimeType\": \"application/pdf\",\r",
									"                    \"recipients\": [\r",
									"                        \"DGS-CERTDC-0000000000102-01\",\r",
									"                        \"DGS-CERTDC-0000000000102-02\"\r",
									"                    ]\r",
									"                },\r",
									"                {\r",
									"                    \"fileName\": \"ER20190860001_20190517_1512_VA.xml\",\r",
									"                    \"type\": \"VA_CertificatdeDeces\",\r",
									"                    \"size\": 6917,\r",
									"                    \"mimeType\": \"application/xml\",\r",
									"                    \"recipients\": [\r",
									"                        \"DGS-CERTDC-0000000000102-01\",\r",
									"                        \"DGS-CERTDC-0000000000102-02\"\r",
									"                    ]\r",
									"                }\r",
									"            ]\r",
									"        },\r",
									"        \"EtatCivil\": {\r",
									"            \"externalId\": \"DILA-AEC-0000000000102\",\r",
									"            \"cases\": [\r",
									"                {\r",
									"                    \"recipient\": {\r",
									"                        \"branchCode\": \"06088\",\r",
									"                        \"type\": \"SI\",\r",
									"                        \"companyRegister\": \"21060088800015\"\r",
									"                    },\r",
									"                    \"externalId\": \"DILA-AEC-0000000000102-01\"\r",
									"                }\r",
									"            ],\r",
									"            \"attachments\": [\r",
									"                {\r",
									"                    \"fileName\": \"ER20190860001_20190517_1512_DD.pdf\",\r",
									"                    \"type\": \"ActeEtatCivil-PDF\",\r",
									"                    \"size\": 3337,\r",
									"                    \"mimeType\": \"application/pdf\",\r",
									"                    \"recipients\": [\r",
									"                        \"DILA-AEC-0000000000102-01\"\r",
									"                    ]\r",
									"                },\r",
									"                {\r",
									"                    \"fileName\": \"ER20190860001_20190517_1512_DD.xml\",\r",
									"                    \"type\": \"ActeEtatCivil-XML\",\r",
									"                    \"size\": 1482,\r",
									"                    \"mimeType\": \"application/xml\",\r",
									"                    \"recipients\": [\r",
									"                        \"DILA-AEC-0000000000102-01\"\r",
									"                    ]\r",
									"                }\r",
									"            ]\r",
									"        },\r",
									"        \"JeChangeDeCoordonnees\": {\r",
									"            \"externalId\": \"DILA-JCC-0000000000102\",\r",
									"            \"cases\": [\r",
									"                {\r",
									"                    \"recipient\": {\r",
									"                        \"branchCode\": \"06088\",\r",
									"                        \"type\": \"SI\",\r",
									"                        \"companyRegister\": \"21060088800015\"\r",
									"                    },\r",
									"                    \"externalId\": \"DILA-JCC-0000000000102-01\"\r",
									"                }\r",
									"            ],\r",
									"            \"attachments\": [\r",
									"                {\r",
									"                    \"fileName\": \"flux-siv.pdf\",\r",
									"                    \"type\": \"flux-siv\",\r",
									"                    \"size\": 3337,\r",
									"                    \"mimeType\": \"application/pdf\",\r",
									"                    \"recipients\": [\r",
									"                        \"DILA-JCC-0000000000102-01\"\r",
									"                    ]\r",
									"                },\r",
									"                {\r",
									"                    \"fileName\": \"flux-siv.xml\",\r",
									"                    \"type\": \"flux-siv\",\r",
									"                    \"size\": 1482,\r",
									"                    \"mimeType\": \"application/xml\",\r",
									"                    \"recipients\": [\r",
									"                        \"DILA-JCC-0000000000102-01\"\r",
									"                    ]\r",
									"                }\r",
									"            ]\r",
									"        },\r",
									"        \"recensementCitoyen\": {\r",
									"            \"externalId\": \"DILA-RCO-0000000000102\",\r",
									"            \"cases\": [\r",
									"                {\r",
									"                    \"recipient\": {\r",
									"                        \"branchCode\": \"06088\",\r",
									"                        \"type\": \"SI\",\r",
									"                        \"companyRegister\": \"21060088800015\"\r",
									"                    },\r",
									"                    \"externalId\": \"DILA-RCO-0000000000102-01\"\r",
									"                }\r",
									"            ],\r",
									"            \"attachments\": [\r",
									"                {\r",
									"                    \"fileName\": \"10870-XML.xml\",\r",
									"                    \"type\": \"10870-XML\",\r",
									"                    \"size\": 3514,\r",
									"                    \"mimeType\": \"application/xml\",\r",
									"                    \"recipients\": [\r",
									"                        \"DILA-RCO-0000000000102-01\"\r",
									"                    ]\r",
									"                },\r",
									"                {\r",
									"                    \"fileName\": \"10870-PDF.pdf\",\r",
									"                    \"type\": \"10870-PDF\",\r",
									"                    \"size\": 102294,\r",
									"                    \"mimeType\": \"application/pdf\",\r",
									"                    \"recipients\": [\r",
									"                        \"DILA-RCO-0000000000102-01\"\r",
									"                    ]\r",
									"                },\r",
									"                {\r",
									"                    \"fileName\": \"A-1-N8F602RR-recensementCitoyen-jf-1.pdf\",\r",
									"                    \"type\": \"jf\",\r",
									"                    \"size\": 4330,\r",
									"                    \"mimeType\": \"application/pdf\",\r",
									"                    \"recipients\": [\r",
									"                        \"DILA-RCO-0000000000102-01\"\r",
									"                    ]\r",
									"                },\r",
									"                {\r",
									"                    \"fileName\": \"A-1-N8F602RR-recensementCitoyen-ji-0.pdf\",\r",
									"                    \"type\": \"ji\",\r",
									"                    \"size\": 3123,\r",
									"                    \"mimeType\": \"application/pdf\",\r",
									"                    \"recipients\": [\r",
									"                        \"DILA-RCO-0000000000102-01\"\r",
									"                    ]\r",
									"                }\r",
									"            ]\r",
									"        },\r",
									"        \"SNATED\": {\r",
									"            \"externalId\": \"SNATED-SNATED-0000000000102\",\r",
									"            \"cases\": [\r",
									"                {\r",
									"                    \"recipient\": {\r",
									"                        \"branchCode\": \"06088\",\r",
									"                        \"type\": \"SI\",\r",
									"                        \"companyRegister\": \"21060088800015\"\r",
									"                    },\r",
									"                    \"externalId\": \"SNATED-SNATED-0000000000102-01\"\r",
									"                }\r",
									"            ],\r",
									"            \"attachments\": [\r",
									"                {\r",
									"                    \"fileName\": \"documents.xml\",\r",
									"                    \"type\": \"documents\",\r",
									"                    \"size\": 3099,\r",
									"                    \"mimeType\": \"application/xml\",\r",
									"                    \"recipients\": [\r",
									"                        \"SNATED-SNATED-0000000000102-01\"\r",
									"                    ]\r",
									"                },\r",
									"                {\r",
									"                    \"fileName\": \"documents.pdf\",\r",
									"                    \"type\": \"documents\",\r",
									"                    \"size\": 26201,\r",
									"                    \"mimeType\": \"application/pdf\",\r",
									"                    \"recipients\": [\r",
									"                        \"SNATED-SNATED-0000000000102-01\"\r",
									"                    ]\r",
									"                }\r",
									"            ]\r",
									"        },\r",
									"        \"CAF-contact\": {\r",
									"            \"externalId\": \"CNAF-ALLOC-0000000000102\",\r",
									"            \"cases\": [\r",
									"                {\r",
									"                    \"recipient\": {\r",
									"                        \"branchCode\": \"92050\",\r",
									"                        \"type\": \"SI\",\r",
									"                        \"companyRegister\": \"22920100000000\"\r",
									"                    },\r",
									"                    \"externalId\": \"CNAF-ALLOC-0000000000102-01\"\r",
									"                }\r",
									"            ],\r",
									"            \"attachments\": [\r",
									"                {\r",
									"                    \"fileName\": \"coordonnees-allocataire.txt\",\r",
									"                    \"type\": \"coordonnees-allocataire\",\r",
									"                    \"size\": 33,\r",
									"                    \"mimeType\": \"text/plain\",\r",
									"                    \"recipients\": [\r",
									"                        \"CNAF-ALLOC-0000000000102-01\",\r",
									"                        \"CNAF-ALLOC-0000000000102-02\"\r",
									"                    ]\r",
									"                }\r",
									"            ]\r",
									"        },\r",
									"        \"RSA\": {\r",
									"            \"externalId\": \"RSA-RSA-0000000000102\",\r",
									"            \"cases\": [\r",
									"                {\r",
									"                    \"recipient\": {\r",
									"                        \"branchCode\": \"06088\",\r",
									"                        \"type\": \"SI\",\r",
									"                        \"companyRegister\": \"21060088800015\"\r",
									"                    },\r",
									"                    \"externalId\": \"RSA-RSA-0000000000102-01\"\r",
									"                }\r",
									"            ],\r",
									"            \"attachments\": [\r",
									"                {\r",
									"                    \"fileName\": \"documents.xml\",\r",
									"                    \"type\": \"documents\",\r",
									"                    \"size\": 1482,\r",
									"                    \"mimeType\": \"application/xml\",\r",
									"                    \"recipients\": [\r",
									"                        \"RSA-RSA-0000000000102-01\"\r",
									"                    ]\r",
									"                }\r",
									"            ]\r",
									"        },\r",
									"        \"depotDossierPACS\": {\r",
									"            \"externalId\": \"DILA-DDPACS-0000000000102\",\r",
									"            \"cases\": [\r",
									"                {\r",
									"                    \"recipient\": {\r",
									"                        \"branchCode\": \"06088\",\r",
									"                        \"type\": \"SI\",\r",
									"                        \"companyRegister\": \"21060088800015\"\r",
									"                    },\r",
									"                    \"externalId\": \"DILA-DDPACS-0000000000102-01\"\r",
									"                }\r",
									"            ],\r",
									"            \"attachments\": [\r",
									"                {\r",
									"                    \"fileName\": \"15725-02.pdf\",\r",
									"                    \"type\": \"15725-02\",\r",
									"                    \"size\": 532160,\r",
									"                    \"mimeType\": \"application/pdf\",\r",
									"                    \"recipients\": [\r",
									"                        \"DILA-DDPACS-0000000000102-01\"\r",
									"                    ]\r",
									"                },\r",
									"                {\r",
									"                    \"fileName\": \"A-1-NGF8UV66-depotDossierPACS-an-0.pdf\",\r",
									"                    \"type\": \"an\",\r",
									"                    \"size\": 25727,\r",
									"                    \"mimeType\": \"application/pdf\",\r",
									"                    \"recipients\": [\r",
									"                        \"DILA-DDPACS-0000000000102-01\"\r",
									"                    ]\r",
									"                },\r",
									"                {\r",
									"                    \"fileName\": \"A-1-NGF8UV66-depotDossierPACS-anp-1.pdf\",\r",
									"                    \"type\": \"anp\",\r",
									"                    \"size\": 25727,\r",
									"                    \"mimeType\": \"application/pdf\",\r",
									"                    \"recipients\": [\r",
									"                        \"DILA-DDPACS-0000000000102-01\"\r",
									"                    ]\r",
									"                },\r",
									"                {\r",
									"                    \"fileName\": \"A-1-NGF8UV66-depotDossierPACS-cp-2.pdf\",\r",
									"                    \"type\": \"cp\",\r",
									"                    \"size\": 25727,\r",
									"                    \"mimeType\": \"application/pdf\",\r",
									"                    \"recipients\": [\r",
									"                        \"DILA-DDPACS-0000000000102-01\"\r",
									"                    ]\r",
									"                },\r",
									"                {\r",
									"                    \"fileName\": \"flux-pacs.xml\",\r",
									"                    \"type\": \"flux-pacs\",\r",
									"                    \"size\": 2374,\r",
									"                    \"mimeType\": \"application/xml\",\r",
									"                    \"recipients\": [\r",
									"                        \"DILA-DDPACS-0000000000102-01\"\r",
									"                    ]\r",
									"                },\r",
									"                {\r",
									"                    \"fileName\": \"recapPDF.pdf\",\r",
									"                    \"type\": \"recapPDF\",\r",
									"                    \"size\": 4715,\r",
									"                    \"mimeType\": \"application/pdf\",\r",
									"                    \"recipients\": [\r",
									"                        \"DILA-DDPACS-0000000000102-01\"\r",
									"                    ]\r",
									"                }\r",
									"            ]\r",
									"        }\r",
									"    }\r",
									"}\r",
									"\r",
									"JDD.demarche[pm.environment.get('processCode')].applicant = JDD.demarche.applicant\r",
									"JDD.demarche[pm.environment.get('processCode')].processCode = pm.environment.get('processCode')\r",
									"pm.environment.set('bodyJSON', JSON.stringify(JDD.demarche[pm.environment.get('processCode')]))\r",
									"pm.environment.set('nbPJ', JDD.demarche[pm.environment.get('processCode')].attachments.length)\r",
									"\r",
									"for (const [key, value] of Object.entries(JDD.demarche.OSL)) {\r",
									"    value.forEach((processCode) => {\r",
									"        if (pm.environment.get('processCode') === processCode) {\r",
									"            pm.environment.set('currentOSLName', key)\r",
									"        }\r",
									"    })\r",
									"}\r",
									"\r",
									"let i = 1;\r",
									"for (const [key, value] of Object.entries(JDD.demarche[pm.environment.get('processCode')].cases)) {\r",
									"    value.recipient.branchCode = pm.environment.get('Si' + i + 'BranchCode')\r",
									"    value.recipient.companyRegister = pm.environment.get('Si' + i + 'CompanyRegister')\r",
									"    i++\r",
									"}\r",
									"\r",
									"pm.environment.set('bodyJSON', JSON.stringify(JDD.demarche[pm.environment.get('processCode')]))\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"pm.test(\"Created\", () => {\r",
									"    pm.response.to.have.status(\"Created\");\r",
									"});\r",
									"\r",
									"const jsonData = pm.response.json();\r",
									"if (pm.response.code === 201) {\r",
									"    const responseJson = pm.response.json();\r",
									"    pm.environment.set('latestFolderCreated', responseJson.id);\r",
									"    pm.environment.set('latestCaseCreatedPOF', responseJson.cases[0].id);\r",
									"    if(responseJson.cases[1]) {\r",
									"        pm.environment.set('latestCaseCreatedMairie', responseJson.cases[1].id);\r",
									"    }\r",
									"\r",
									"    for (let i = 0; i < pm.environment.get('nbPJ'); i++) {\r",
									"        pm.environment.set('attachmentId' + (i + 1), responseJson.attachments[i].id);\r",
									"    }\r",
									"    pm.environment.set('currentPJ', 1)\r",
									"    postman.setNextRequest(pm.environment.get('processCode') + '_PJ' + pm.environment.get('currentPJ'));\r",
									"\r",
									"} else if (pm.response.code === 401 || 403) {\r",
									"    postman.setNextRequest('token_' + pm.environment.get('currentOSLName'));\r",
									"} else {\r",
									"    console.log(\"erreur de création de folder \" + pm.response.code)\r",
									"    postman.setNextRequest(null);\r",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{currentOSLToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "editorName",
								"value": "postman",
								"type": "text",
								"disabled": true
							},
							{
								"key": "applicationName",
								"value": "postman",
								"type": "text",
								"disabled": true
							},
							{
								"key": "softwareVersion",
								"value": "1",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{{bodyJSON}}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/teledossiers/{{version}}/folders",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"teledossiers",
								"{{version}}",
								"folders"
							]
						}
					},
					"response": []
				},
				{
					"name": "token_DILA",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"OK\", () => {\r",
									"    pm.response.to.have.status(\"OK\");\r",
									"});\r",
									"\r",
									"var jsonData = JSON.parse(responseBody);\r",
									"pm.environment.set('DILAToken', jsonData.access_token);\r",
									"pm.environment.set('currentOSLToken', jsonData.access_token);\r",
									"\r",
									"postman.setNextRequest('Creer Folder');"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{dilaClientSecret}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{dilaClientid}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "scope",
									"value": "OSL",
									"type": "text"
								},
								{
									"key": "grant_type",
									"value": "client_credentials",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{tokenUrl}}",
							"host": [
								"{{tokenUrl}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "token_DGS",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"OK\", () => {\r",
									"  pm.response.to.have.status(\"OK\");\r",
									"});\r",
									"\r",
									"var jsonData = JSON.parse(responseBody);\r",
									"pm.environment.set('DGSToken', jsonData.access_token);\r",
									"pm.environment.set('currentOSLToken', jsonData.access_token);\r",
									"\r",
									"postman.setNextRequest('Creer Folder');"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{dgsClientSecret}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{dgsClientId}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "scope",
									"value": "OSL",
									"type": "text"
								},
								{
									"key": "grant_type",
									"value": "client_credentials",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{tokenUrl}}",
							"host": [
								"{{tokenUrl}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "token_CNAF",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"OK\", () => {\r",
									"  pm.response.to.have.status(\"OK\");\r",
									"});\r",
									"\r",
									"var jsonData = JSON.parse(responseBody);\r",
									"pm.environment.set('CNAFToken', jsonData.access_token);\r",
									"pm.environment.set('currentOSLToken', jsonData.access_token);\r",
									"\r",
									"postman.setNextRequest('Creer Folder');"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{CNAFClientSecret}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{CNAFClientId}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "scope",
									"value": "OSL",
									"type": "text"
								},
								{
									"key": "grant_type",
									"value": "client_credentials",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{tokenUrl}}",
							"host": [
								"{{tokenUrl}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "token_SNATED",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"OK\", () => {\r",
									"  pm.response.to.have.status(\"OK\");\r",
									"});\r",
									"\r",
									"var jsonData = JSON.parse(responseBody);\r",
									"pm.environment.set('snatedToken', jsonData.access_token);\r",
									"pm.environment.set('currentOSLToken', jsonData.access_token);\r",
									"\r",
									"postman.setNextRequest('Creer Folder');"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "username",
									"value": "{{SnatedClient}}",
									"type": "string"
								},
								{
									"key": "password",
									"value": "{{SnatedSecret}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "scope",
									"value": "OSL",
									"type": "text"
								},
								{
									"key": "grant_type",
									"value": "client_credentials",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{tokenUrl}}",
							"host": [
								"{{tokenUrl}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "token_RSA",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"OK\", () => {\r",
									"  pm.response.to.have.status(\"OK\");\r",
									"});\r",
									"\r",
									"var jsonData = JSON.parse(responseBody);\r",
									"pm.environment.set('rsaToken', jsonData.access_token);\r",
									"pm.environment.set('currentOSLToken', jsonData.access_token);\r",
									"\r",
									"postman.setNextRequest('Creer Folder');"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "{{RsaSecret}}",
									"type": "string"
								},
								{
									"key": "username",
									"value": "{{RsaClient}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "scope",
									"value": "OSL",
									"type": "text"
								},
								{
									"key": "grant_type",
									"value": "client_credentials",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{tokenUrl}}",
							"host": [
								"{{tokenUrl}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "CERTDC_PJ1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"204\", function () {\r",
									"    pm.response.to.have.status(204);\r",
									"});\r",
									"\r",
									"pm.test(\"No Content\", () => {\r",
									"    pm.response.to.have.status(\"No Content\");\r",
									"});\r",
									"\r",
									"if (pm.environment.get('nbPJ') > 1) {\r",
									"    pm.environment.set('nbPJ', (pm.environment.get('nbPJ') - 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    pm.environment.set('currentPJ', (pm.environment.get('currentPJ') + 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    postman.setNextRequest(pm.environment.get('processCode') + '_PJ' + pm.environment.get('currentPJ'));\r",
									"} else {\r",
									"    postman.setNextRequest('Déclarer le TD complet')\r",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{currentOSLToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/octet-stream",
								"type": "text"
							}
						],
						"body": {
							"mode": "file",
							"file": {
								"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/jdd/CERTDC/ER20190860001_20190517_1512_DD.pdf"
							}
						},
						"url": {
							"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId/attachments/:attachmentId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"teledossiers",
								"{{version}}",
								"folders",
								":folderId",
								"attachments",
								":attachmentId"
							],
							"variable": [
								{
									"key": "folderId",
									"value": "{{latestFolderCreated}}",
									"description": "21c92b0d-8742-44c7-8055-7697d9e7719c"
								},
								{
									"key": "attachmentId",
									"value": "{{attachmentId1}}",
									"description": "8ad3e3f1-77da-4be6-b1c3-f14c6b2003e6"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "CERTDC_PJ2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"204\", function () {\r",
									"    pm.response.to.have.status(204);\r",
									"});\r",
									"\r",
									"pm.test(\"No Content\", () => {\r",
									"  pm.response.to.have.status(\"No Content\");\r",
									"});\r",
									"\r",
									"if (pm.environment.get('nbPJ') > 1) {\r",
									"    pm.environment.set('nbPJ', (pm.environment.get('nbPJ') - 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    pm.environment.set('currentPJ', (pm.environment.get('currentPJ') + 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    postman.setNextRequest(pm.environment.get('processCode') + '_PJ' + pm.environment.get('currentPJ'));\r",
									"} else {\r",
									"    postman.setNextRequest('Déclarer le TD complet')\r",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{currentOSLToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/octet-stream",
								"type": "text"
							}
						],
						"body": {
							"mode": "file",
							"file": {
								"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique_V1.7.1/JDD/CERTDC/ER20190860001_20190517_1512_DD.xml"
							}
						},
						"url": {
							"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId/attachments/:attachmentId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"teledossiers",
								"{{version}}",
								"folders",
								":folderId",
								"attachments",
								":attachmentId"
							],
							"variable": [
								{
									"key": "folderId",
									"value": "{{latestFolderCreated}}",
									"description": "21c92b0d-8742-44c7-8055-7697d9e7719c"
								},
								{
									"key": "attachmentId",
									"value": "{{attachmentId2}}",
									"description": "8ad3e3f1-77da-4be6-b1c3-f14c6b2003e6"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "CERTDC_PJ3",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"204\", function () {\r",
									"    pm.response.to.have.status(204);\r",
									"});\r",
									"\r",
									"pm.test(\"No Content\", () => {\r",
									"    pm.response.to.have.status(\"No Content\");\r",
									"});\r",
									"\r",
									"if (pm.environment.get('nbPJ') > 1) {\r",
									"    pm.environment.set('nbPJ', (pm.environment.get('nbPJ') - 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    pm.environment.set('currentPJ', (pm.environment.get('currentPJ') + 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    postman.setNextRequest(pm.environment.get('processCode') + '_PJ' + pm.environment.get('currentPJ'));\r",
									"} else {\r",
									"    postman.setNextRequest('Déclarer le TD complet')\r",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{currentOSLToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/octet-stream",
								"type": "text"
							}
						],
						"body": {
							"mode": "file",
							"file": {
								"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/jdd/CERTDC/ER20190860001_20190517_1512_VA.pdf"
							}
						},
						"url": {
							"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId/attachments/:attachmentId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"teledossiers",
								"{{version}}",
								"folders",
								":folderId",
								"attachments",
								":attachmentId"
							],
							"variable": [
								{
									"key": "folderId",
									"value": "{{latestFolderCreated}}",
									"description": "21c92b0d-8742-44c7-8055-7697d9e7719c"
								},
								{
									"key": "attachmentId",
									"value": "{{attachmentId3}}",
									"description": "8ad3e3f1-77da-4be6-b1c3-f14c6b2003e6"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "CERTDC_PJ4",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"204\", function () {\r",
									"    pm.response.to.have.status(204);\r",
									"});\r",
									"\r",
									"pm.test(\"No Content\", () => {\r",
									"  pm.response.to.have.status(\"No Content\");\r",
									"});\r",
									"\r",
									"if (pm.environment.get('nbPJ') > 1) {\r",
									"    pm.environment.set('nbPJ', (pm.environment.get('nbPJ') - 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    pm.environment.set('currentPJ', (pm.environment.get('currentPJ') + 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    postman.setNextRequest(pm.environment.get('processCode') + '_PJ' + pm.environment.get('currentPJ'));\r",
									"} else {\r",
									"    postman.setNextRequest('Déclarer le TD complet')\r",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{currentOSLToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/octet-stream",
								"type": "text"
							}
						],
						"body": {
							"mode": "file",
							"file": {
								"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique_V1.7.1/JDD/CERTDC/ER20190860001_20190517_1512_VA.xml"
							}
						},
						"url": {
							"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId/attachments/:attachmentId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"teledossiers",
								"{{version}}",
								"folders",
								":folderId",
								"attachments",
								":attachmentId"
							],
							"variable": [
								{
									"key": "folderId",
									"value": "{{latestFolderCreated}}",
									"description": "21c92b0d-8742-44c7-8055-7697d9e7719c"
								},
								{
									"key": "attachmentId",
									"value": "{{attachmentId4}}",
									"description": "8ad3e3f1-77da-4be6-b1c3-f14c6b2003e6"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "EtatCivil_PJ1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"204\", function () {\r",
									"    pm.response.to.have.status(204);\r",
									"});\r",
									"\r",
									"pm.test(\"No Content\", () => {\r",
									"    pm.response.to.have.status(\"No Content\");\r",
									"});\r",
									"\r",
									"if (pm.environment.get('nbPJ') > 1) {\r",
									"    pm.environment.set('nbPJ', (pm.environment.get('nbPJ') - 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    pm.environment.set('currentPJ', (pm.environment.get('currentPJ') + 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    postman.setNextRequest(pm.environment.get('processCode') + '_PJ' + pm.environment.get('currentPJ'));\r",
									"} else {\r",
									"    postman.setNextRequest('Déclarer le TD complet')\r",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{currentOSLToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/octet-stream",
								"type": "text"
							}
						],
						"body": {
							"mode": "file",
							"file": {
								"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique_V1.7.1/JDD/ETATCIVIL/ActeEtatCivil-PDF.pdf"
							}
						},
						"url": {
							"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId/attachments/:attachmentId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"teledossiers",
								"{{version}}",
								"folders",
								":folderId",
								"attachments",
								":attachmentId"
							],
							"variable": [
								{
									"key": "folderId",
									"value": "{{latestFolderCreated}}",
									"description": "21c92b0d-8742-44c7-8055-7697d9e7719c"
								},
								{
									"key": "attachmentId",
									"value": "{{attachmentId1}}",
									"description": "8ad3e3f1-77da-4be6-b1c3-f14c6b2003e6"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "EtatCivil_PJ2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"204\", function () {\r",
									"    pm.response.to.have.status(204);\r",
									"});\r",
									"\r",
									"pm.test(\"No Content\", () => {\r",
									"    pm.response.to.have.status(\"No Content\");\r",
									"});\r",
									"\r",
									"if (pm.environment.get('nbPJ') > 1) {\r",
									"    pm.environment.set('nbPJ', (pm.environment.get('nbPJ') - 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    pm.environment.set('currentPJ', (pm.environment.get('currentPJ') + 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    postman.setNextRequest(pm.environment.get('processCode') + '_PJ' + pm.environment.get('currentPJ'));\r",
									"} else {\r",
									"    postman.setNextRequest('Déclarer le TD complet')\r",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{currentOSLToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/octet-stream",
								"type": "text"
							}
						],
						"body": {
							"mode": "file",
							"file": {
								"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique_V1.7.1/JDD/ETATCIVIL/ActeEtatCivil-XML.xml"
							}
						},
						"url": {
							"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId/attachments/:attachmentId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"teledossiers",
								"{{version}}",
								"folders",
								":folderId",
								"attachments",
								":attachmentId"
							],
							"variable": [
								{
									"key": "folderId",
									"value": "{{latestFolderCreated}}",
									"description": "21c92b0d-8742-44c7-8055-7697d9e7719c"
								},
								{
									"key": "attachmentId",
									"value": "{{attachmentId2}}",
									"description": "8ad3e3f1-77da-4be6-b1c3-f14c6b2003e6"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "JeChangeDeCoordonnees_PJ1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"204\", function () {\r",
									"    pm.response.to.have.status(204);\r",
									"});\r",
									"\r",
									"pm.test(\"No Content\", () => {\r",
									"    pm.response.to.have.status(\"No Content\");\r",
									"});\r",
									"\r",
									"if (pm.environment.get('nbPJ') > 1) {\r",
									"    pm.environment.set('nbPJ', (pm.environment.get('nbPJ') - 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    pm.environment.set('currentPJ', (pm.environment.get('currentPJ') + 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    postman.setNextRequest(pm.environment.get('processCode') + '_PJ' + pm.environment.get('currentPJ'));\r",
									"} else {\r",
									"    postman.setNextRequest('Déclarer le TD complet')\r",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{currentOSLToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/octet-stream",
								"type": "text"
							}
						],
						"body": {
							"mode": "file",
							"file": {
								"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique_V1.7.1/JDD/JECHANGEDECOORDONNEES/flux-siv.pdf"
							}
						},
						"url": {
							"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId/attachments/:attachmentId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"teledossiers",
								"{{version}}",
								"folders",
								":folderId",
								"attachments",
								":attachmentId"
							],
							"variable": [
								{
									"key": "folderId",
									"value": "{{latestFolderCreated}}",
									"description": "21c92b0d-8742-44c7-8055-7697d9e7719c"
								},
								{
									"key": "attachmentId",
									"value": "{{attachmentId1}}",
									"description": "8ad3e3f1-77da-4be6-b1c3-f14c6b2003e6"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "JeChangeDeCoordonnees_PJ2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"204\", function () {\r",
									"    pm.response.to.have.status(204);\r",
									"});\r",
									"\r",
									"pm.test(\"No Content\", () => {\r",
									"    pm.response.to.have.status(\"No Content\");\r",
									"});\r",
									"\r",
									"if (pm.environment.get('nbPJ') > 1) {\r",
									"    pm.environment.set('nbPJ', (pm.environment.get('nbPJ') - 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    pm.environment.set('currentPJ', (pm.environment.get('currentPJ') + 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    postman.setNextRequest(pm.environment.get('processCode') + '_PJ' + pm.environment.get('currentPJ'));\r",
									"} else {\r",
									"    postman.setNextRequest('Déclarer le TD complet')\r",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{currentOSLToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/octet-stream",
								"type": "text"
							}
						],
						"body": {
							"mode": "file",
							"file": {
								"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique_V1.7.1/JDD/JECHANGEDECOORDONNEES/flux-siv.xml"
							}
						},
						"url": {
							"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId/attachments/:attachmentId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"teledossiers",
								"{{version}}",
								"folders",
								":folderId",
								"attachments",
								":attachmentId"
							],
							"variable": [
								{
									"key": "folderId",
									"value": "{{latestFolderCreated}}",
									"description": "21c92b0d-8742-44c7-8055-7697d9e7719c"
								},
								{
									"key": "attachmentId",
									"value": "{{attachmentId2}}",
									"description": "8ad3e3f1-77da-4be6-b1c3-f14c6b2003e6"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "CAF-contact_PJ1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"204\", function () {\r",
									"    pm.response.to.have.status(204);\r",
									"});\r",
									"\r",
									"pm.test(\"No Content\", () => {\r",
									"    pm.response.to.have.status(\"No Content\");\r",
									"});\r",
									"\r",
									"if (pm.environment.get('nbPJ') > 1) {\r",
									"    pm.environment.set('nbPJ', (pm.environment.get('nbPJ') - 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    pm.environment.set('currentPJ', (pm.environment.get('currentPJ') + 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    postman.setNextRequest(pm.environment.get('processCode') + '_PJ' + pm.environment.get('currentPJ'));\r",
									"} else {\r",
									"    postman.setNextRequest('Déclarer le TD complet')\r",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{currentOSLToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/octet-stream",
								"type": "text"
							}
						],
						"body": {
							"mode": "file",
							"file": {
								"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique_V1.7/JDD/CAF-contact/coordonnees-allocataire.txt"
							}
						},
						"url": {
							"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId/attachments/:attachmentId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"teledossiers",
								"{{version}}",
								"folders",
								":folderId",
								"attachments",
								":attachmentId"
							],
							"variable": [
								{
									"key": "folderId",
									"value": "{{latestFolderCreated}}",
									"description": "21c92b0d-8742-44c7-8055-7697d9e7719c"
								},
								{
									"key": "attachmentId",
									"value": "{{attachmentId1}}",
									"description": "8ad3e3f1-77da-4be6-b1c3-f14c6b2003e6"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "SNATED_PJ1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"204\", function () {\r",
									"    pm.response.to.have.status(204);\r",
									"});\r",
									"\r",
									"pm.test(\"No Content\", () => {\r",
									"    pm.response.to.have.status(\"No Content\");\r",
									"});\r",
									"\r",
									"if (pm.environment.get('nbPJ') > 1) {\r",
									"    pm.environment.set('nbPJ', (pm.environment.get('nbPJ') - 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    pm.environment.set('currentPJ', (pm.environment.get('currentPJ') + 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    postman.setNextRequest(pm.environment.get('processCode') + '_PJ' + pm.environment.get('currentPJ'));\r",
									"} else {\r",
									"    postman.setNextRequest('Déclarer le TD complet')\r",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{currentOSLToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/octet-stream",
								"type": "text"
							}
						],
						"body": {
							"mode": "file",
							"file": {
								"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/SNATED/documents.xml"
							}
						},
						"url": {
							"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId/attachments/:attachmentId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"teledossiers",
								"{{version}}",
								"folders",
								":folderId",
								"attachments",
								":attachmentId"
							],
							"variable": [
								{
									"key": "folderId",
									"value": "{{latestFolderCreated}}",
									"description": "21c92b0d-8742-44c7-8055-7697d9e7719c"
								},
								{
									"key": "attachmentId",
									"value": "{{attachmentId1}}",
									"description": "8ad3e3f1-77da-4be6-b1c3-f14c6b2003e6"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "SNATED_PJ2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"204\", function () {\r",
									"    pm.response.to.have.status(204);\r",
									"});\r",
									"\r",
									"pm.test(\"No Content\", () => {\r",
									"    pm.response.to.have.status(\"No Content\");\r",
									"});\r",
									"\r",
									"if (pm.environment.get('nbPJ') > 1) {\r",
									"    pm.environment.set('nbPJ', (pm.environment.get('nbPJ') - 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    pm.environment.set('currentPJ', (pm.environment.get('currentPJ') + 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    postman.setNextRequest(pm.environment.get('processCode') + '_PJ' + pm.environment.get('currentPJ'));\r",
									"} else {\r",
									"    postman.setNextRequest('Déclarer le TD complet')\r",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{currentOSLToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/octet-stream",
								"type": "text"
							}
						],
						"body": {
							"mode": "file",
							"file": {
								"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/SNATED/documents.pdf"
							}
						},
						"url": {
							"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId/attachments/:attachmentId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"teledossiers",
								"{{version}}",
								"folders",
								":folderId",
								"attachments",
								":attachmentId"
							],
							"variable": [
								{
									"key": "folderId",
									"value": "{{latestFolderCreated}}",
									"description": "21c92b0d-8742-44c7-8055-7697d9e7719c"
								},
								{
									"key": "attachmentId",
									"value": "{{attachmentId2}}",
									"description": "8ad3e3f1-77da-4be6-b1c3-f14c6b2003e6"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "RSA_PJ1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"204\", function () {\r",
									"    pm.response.to.have.status(204);\r",
									"});\r",
									"\r",
									"pm.test(\"No Content\", () => {\r",
									"    pm.response.to.have.status(\"No Content\");\r",
									"});\r",
									"\r",
									"if (pm.environment.get('nbPJ') > 1) {\r",
									"    pm.environment.set('nbPJ', (pm.environment.get('nbPJ') - 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    pm.environment.set('currentPJ', (pm.environment.get('currentPJ') + 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    postman.setNextRequest(pm.environment.get('processCode') + '_PJ' + pm.environment.get('currentPJ'));\r",
									"} else {\r",
									"    postman.setNextRequest('Déclarer le TD complet')\r",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{currentOSLToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/octet-stream",
								"type": "text"
							}
						],
						"body": {
							"mode": "file",
							"file": {
								"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/RSA/documents.xml"
							}
						},
						"url": {
							"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId/attachments/:attachmentId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"teledossiers",
								"{{version}}",
								"folders",
								":folderId",
								"attachments",
								":attachmentId"
							],
							"variable": [
								{
									"key": "folderId",
									"value": "{{latestFolderCreated}}",
									"description": "21c92b0d-8742-44c7-8055-7697d9e7719c"
								},
								{
									"key": "attachmentId",
									"value": "{{attachmentId1}}",
									"description": "8ad3e3f1-77da-4be6-b1c3-f14c6b2003e6"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "recensementCitoyen_PJ1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"204\", function () {\r",
									"    pm.response.to.have.status(204);\r",
									"});\r",
									"\r",
									"pm.test(\"No Content\", () => {\r",
									"    pm.response.to.have.status(\"No Content\");\r",
									"});\r",
									"\r",
									"if (pm.environment.get('nbPJ') > 1) {\r",
									"    pm.environment.set('nbPJ', (pm.environment.get('nbPJ') - 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    pm.environment.set('currentPJ', (pm.environment.get('currentPJ') + 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    postman.setNextRequest(pm.environment.get('processCode') + '_PJ' + pm.environment.get('currentPJ'));\r",
									"} else {\r",
									"    postman.setNextRequest('Déclarer le TD complet')\r",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{currentOSLToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/octet-stream",
								"type": "text"
							}
						],
						"body": {
							"mode": "file",
							"file": {
								"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/RECENSEMENTCITOYEN/10870-XML.xml"
							}
						},
						"url": {
							"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId/attachments/:attachmentId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"teledossiers",
								"{{version}}",
								"folders",
								":folderId",
								"attachments",
								":attachmentId"
							],
							"variable": [
								{
									"key": "folderId",
									"value": "{{latestFolderCreated}}",
									"description": "21c92b0d-8742-44c7-8055-7697d9e7719c"
								},
								{
									"key": "attachmentId",
									"value": "{{attachmentId1}}",
									"description": "8ad3e3f1-77da-4be6-b1c3-f14c6b2003e6"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "recensementCitoyen_PJ2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"204\", function () {\r",
									"    pm.response.to.have.status(204);\r",
									"});\r",
									"\r",
									"pm.test(\"No Content\", () => {\r",
									"    pm.response.to.have.status(\"No Content\");\r",
									"});\r",
									"\r",
									"if (pm.environment.get('nbPJ') > 1) {\r",
									"    pm.environment.set('nbPJ', (pm.environment.get('nbPJ') - 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    pm.environment.set('currentPJ', (pm.environment.get('currentPJ') + 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    postman.setNextRequest(pm.environment.get('processCode') + '_PJ' + pm.environment.get('currentPJ'));\r",
									"} else {\r",
									"    postman.setNextRequest('Déclarer le TD complet')\r",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{currentOSLToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/octet-stream",
								"type": "text"
							}
						],
						"body": {
							"mode": "file",
							"file": {
								"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/RECENSEMENTCITOYEN/10870-PDF.pdf"
							}
						},
						"url": {
							"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId/attachments/:attachmentId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"teledossiers",
								"{{version}}",
								"folders",
								":folderId",
								"attachments",
								":attachmentId"
							],
							"variable": [
								{
									"key": "folderId",
									"value": "{{latestFolderCreated}}",
									"description": "21c92b0d-8742-44c7-8055-7697d9e7719c"
								},
								{
									"key": "attachmentId",
									"value": "{{attachmentId2}}",
									"description": "8ad3e3f1-77da-4be6-b1c3-f14c6b2003e6"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "recensementCitoyen_PJ3",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"204\", function () {\r",
									"    pm.response.to.have.status(204);\r",
									"});\r",
									"\r",
									"pm.test(\"No Content\", () => {\r",
									"    pm.response.to.have.status(\"No Content\");\r",
									"});\r",
									"\r",
									"if (pm.environment.get('nbPJ') > 1) {\r",
									"    pm.environment.set('nbPJ', (pm.environment.get('nbPJ') - 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    pm.environment.set('currentPJ', (pm.environment.get('currentPJ') + 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    postman.setNextRequest(pm.environment.get('processCode') + '_PJ' + pm.environment.get('currentPJ'));\r",
									"} else {\r",
									"    postman.setNextRequest('Déclarer le TD complet')\r",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{currentOSLToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/octet-stream",
								"type": "text"
							}
						],
						"body": {
							"mode": "file",
							"file": {
								"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/RECENSEMENTCITOYEN/A-1-N8F602RR-recensementCitoyen-jf-1.pdf"
							}
						},
						"url": {
							"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId/attachments/:attachmentId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"teledossiers",
								"{{version}}",
								"folders",
								":folderId",
								"attachments",
								":attachmentId"
							],
							"variable": [
								{
									"key": "folderId",
									"value": "{{latestFolderCreated}}",
									"description": "21c92b0d-8742-44c7-8055-7697d9e7719c"
								},
								{
									"key": "attachmentId",
									"value": "{{attachmentId3}}",
									"description": "8ad3e3f1-77da-4be6-b1c3-f14c6b2003e6"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "recensementCitoyen_PJ4",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"204\", function () {\r",
									"    pm.response.to.have.status(204);\r",
									"});\r",
									"\r",
									"pm.test(\"No Content\", () => {\r",
									"    pm.response.to.have.status(\"No Content\");\r",
									"});\r",
									"\r",
									"if (pm.environment.get('nbPJ') > 1) {\r",
									"    pm.environment.set('nbPJ', (pm.environment.get('nbPJ') - 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    pm.environment.set('currentPJ', (pm.environment.get('currentPJ') + 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    postman.setNextRequest(pm.environment.get('processCode') + '_PJ' + pm.environment.get('currentPJ'));\r",
									"} else {\r",
									"    postman.setNextRequest('Déclarer le TD complet')\r",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{currentOSLToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/octet-stream",
								"type": "text"
							}
						],
						"body": {
							"mode": "file",
							"file": {
								"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/RECENSEMENTCITOYEN/A-1-N8F602RR-recensementCitoyen-ji-0.pdf"
							}
						},
						"url": {
							"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId/attachments/:attachmentId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"teledossiers",
								"{{version}}",
								"folders",
								":folderId",
								"attachments",
								":attachmentId"
							],
							"variable": [
								{
									"key": "folderId",
									"value": "{{latestFolderCreated}}",
									"description": "21c92b0d-8742-44c7-8055-7697d9e7719c"
								},
								{
									"key": "attachmentId",
									"value": "{{attachmentId4}}",
									"description": "8ad3e3f1-77da-4be6-b1c3-f14c6b2003e6"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "depotDossierPACS_PJ1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"204\", function () {\r",
									"    pm.response.to.have.status(204);\r",
									"});\r",
									"\r",
									"pm.test(\"No Content\", () => {\r",
									"    pm.response.to.have.status(\"No Content\");\r",
									"});\r",
									"\r",
									"if (pm.environment.get('nbPJ') > 1) {\r",
									"    pm.environment.set('nbPJ', (pm.environment.get('nbPJ') - 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    pm.environment.set('currentPJ', (pm.environment.get('currentPJ') + 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    postman.setNextRequest(pm.environment.get('processCode') + '_PJ' + pm.environment.get('currentPJ'));\r",
									"} else {\r",
									"    postman.setNextRequest('Déclarer le TD complet')\r",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{currentOSLToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/octet-stream",
								"type": "text"
							}
						],
						"body": {
							"mode": "file",
							"file": {
								"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/DEPOTDOSSIERPACS/15725-02.pdf"
							}
						},
						"url": {
							"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId/attachments/:attachmentId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"teledossiers",
								"{{version}}",
								"folders",
								":folderId",
								"attachments",
								":attachmentId"
							],
							"variable": [
								{
									"key": "folderId",
									"value": "{{latestFolderCreated}}",
									"description": "21c92b0d-8742-44c7-8055-7697d9e7719c"
								},
								{
									"key": "attachmentId",
									"value": "{{attachmentId1}}",
									"description": "8ad3e3f1-77da-4be6-b1c3-f14c6b2003e6"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "depotDossierPACS_PJ2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"204\", function () {\r",
									"    pm.response.to.have.status(204);\r",
									"});\r",
									"\r",
									"pm.test(\"No Content\", () => {\r",
									"    pm.response.to.have.status(\"No Content\");\r",
									"});\r",
									"\r",
									"if (pm.environment.get('nbPJ') > 1) {\r",
									"    pm.environment.set('nbPJ', (pm.environment.get('nbPJ') - 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    pm.environment.set('currentPJ', (pm.environment.get('currentPJ') + 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    postman.setNextRequest(pm.environment.get('processCode') + '_PJ' + pm.environment.get('currentPJ'));\r",
									"} else {\r",
									"    postman.setNextRequest('Déclarer le TD complet')\r",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{currentOSLToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/octet-stream",
								"type": "text"
							}
						],
						"body": {
							"mode": "file",
							"file": {
								"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/DEPOTDOSSIERPACS/A-1-NGF8UV66-depotDossierPACS-an-0.pdf"
							}
						},
						"url": {
							"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId/attachments/:attachmentId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"teledossiers",
								"{{version}}",
								"folders",
								":folderId",
								"attachments",
								":attachmentId"
							],
							"variable": [
								{
									"key": "folderId",
									"value": "{{latestFolderCreated}}",
									"description": "21c92b0d-8742-44c7-8055-7697d9e7719c"
								},
								{
									"key": "attachmentId",
									"value": "{{attachmentId2}}",
									"description": "8ad3e3f1-77da-4be6-b1c3-f14c6b2003e6"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "depotDossierPACS_PJ3",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"204\", function () {\r",
									"    pm.response.to.have.status(204);\r",
									"});\r",
									"\r",
									"pm.test(\"No Content\", () => {\r",
									"    pm.response.to.have.status(\"No Content\");\r",
									"});\r",
									"\r",
									"if (pm.environment.get('nbPJ') > 1) {\r",
									"    pm.environment.set('nbPJ', (pm.environment.get('nbPJ') - 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    pm.environment.set('currentPJ', (pm.environment.get('currentPJ') + 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    postman.setNextRequest(pm.environment.get('processCode') + '_PJ' + pm.environment.get('currentPJ'));\r",
									"} else {\r",
									"    postman.setNextRequest('Déclarer le TD complet')\r",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{currentOSLToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/octet-stream",
								"type": "text"
							}
						],
						"body": {
							"mode": "file",
							"file": {
								"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/DEPOTDOSSIERPACS/A-1-NGF8UV66-depotDossierPACS-anp-1.pdf"
							}
						},
						"url": {
							"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId/attachments/:attachmentId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"teledossiers",
								"{{version}}",
								"folders",
								":folderId",
								"attachments",
								":attachmentId"
							],
							"variable": [
								{
									"key": "folderId",
									"value": "{{latestFolderCreated}}",
									"description": "21c92b0d-8742-44c7-8055-7697d9e7719c"
								},
								{
									"key": "attachmentId",
									"value": "{{attachmentId3}}",
									"description": "8ad3e3f1-77da-4be6-b1c3-f14c6b2003e6"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "depotDossierPACS_PJ4",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"204\", function () {\r",
									"    pm.response.to.have.status(204);\r",
									"});\r",
									"\r",
									"pm.test(\"No Content\", () => {\r",
									"    pm.response.to.have.status(\"No Content\");\r",
									"});\r",
									"\r",
									"if (pm.environment.get('nbPJ') > 1) {\r",
									"    pm.environment.set('nbPJ', (pm.environment.get('nbPJ') - 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    pm.environment.set('currentPJ', (pm.environment.get('currentPJ') + 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    postman.setNextRequest(pm.environment.get('processCode') + '_PJ' + pm.environment.get('currentPJ'));\r",
									"} else {\r",
									"    postman.setNextRequest('Déclarer le TD complet')\r",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{currentOSLToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/octet-stream",
								"type": "text"
							}
						],
						"body": {
							"mode": "file",
							"file": {
								"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/DEPOTDOSSIERPACS/A-1-NGF8UV66-depotDossierPACS-cp-2.pdf"
							}
						},
						"url": {
							"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId/attachments/:attachmentId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"teledossiers",
								"{{version}}",
								"folders",
								":folderId",
								"attachments",
								":attachmentId"
							],
							"variable": [
								{
									"key": "folderId",
									"value": "{{latestFolderCreated}}",
									"description": "21c92b0d-8742-44c7-8055-7697d9e7719c"
								},
								{
									"key": "attachmentId",
									"value": "{{attachmentId4}}",
									"description": "8ad3e3f1-77da-4be6-b1c3-f14c6b2003e6"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "depotDossierPACS_PJ5",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"204\", function () {\r",
									"    pm.response.to.have.status(204);\r",
									"});\r",
									"\r",
									"pm.test(\"No Content\", () => {\r",
									"    pm.response.to.have.status(\"No Content\");\r",
									"});\r",
									"\r",
									"if (pm.environment.get('nbPJ') > 1) {\r",
									"    pm.environment.set('nbPJ', (pm.environment.get('nbPJ') - 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    pm.environment.set('currentPJ', (pm.environment.get('currentPJ') + 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    postman.setNextRequest(pm.environment.get('processCode') + '_PJ' + pm.environment.get('currentPJ'));\r",
									"} else {\r",
									"    postman.setNextRequest('Déclarer le TD complet')\r",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{currentOSLToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/octet-stream",
								"type": "text"
							}
						],
						"body": {
							"mode": "file",
							"file": {
								"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/DEPOTDOSSIERPACS/flux-pacs.xml"
							}
						},
						"url": {
							"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId/attachments/:attachmentId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"teledossiers",
								"{{version}}",
								"folders",
								":folderId",
								"attachments",
								":attachmentId"
							],
							"variable": [
								{
									"key": "folderId",
									"value": "{{latestFolderCreated}}",
									"description": "21c92b0d-8742-44c7-8055-7697d9e7719c"
								},
								{
									"key": "attachmentId",
									"value": "{{attachmentId5}}",
									"description": "8ad3e3f1-77da-4be6-b1c3-f14c6b2003e6"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "depotDossierPACS_PJ6",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"204\", function () {\r",
									"    pm.response.to.have.status(204);\r",
									"});\r",
									"\r",
									"pm.test(\"No Content\", () => {\r",
									"    pm.response.to.have.status(\"No Content\");\r",
									"});\r",
									"\r",
									"if (pm.environment.get('nbPJ') > 1) {\r",
									"    pm.environment.set('nbPJ', (pm.environment.get('nbPJ') - 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    pm.environment.set('currentPJ', (pm.environment.get('currentPJ') + 1))\r",
									"    console.log(pm.environment.get('currentPJ'))\r",
									"    postman.setNextRequest(pm.environment.get('processCode') + '_PJ' + pm.environment.get('currentPJ'));\r",
									"} else {\r",
									"    postman.setNextRequest('Déclarer le TD complet')\r",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{currentOSLToken}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/octet-stream",
								"type": "text"
							}
						],
						"body": {
							"mode": "file",
							"file": {
								"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/DEPOTDOSSIERPACS/recapPDF.pdf"
							}
						},
						"url": {
							"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId/attachments/:attachmentId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"teledossiers",
								"{{version}}",
								"folders",
								":folderId",
								"attachments",
								":attachmentId"
							],
							"variable": [
								{
									"key": "folderId",
									"value": "{{latestFolderCreated}}",
									"description": "21c92b0d-8742-44c7-8055-7697d9e7719c"
								},
								{
									"key": "attachmentId",
									"value": "{{attachmentId6}}",
									"description": "8ad3e3f1-77da-4be6-b1c3-f14c6b2003e6"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Déclarer le TD complet",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"204\", function () {\r",
									"    pm.response.to.have.status(204);\r",
									"});\r",
									"\r",
									"pm.test(\"successful operation\", () => {\r",
									"  pm.response.to.have.status(\"No Content\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{currentOSLToken}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n \"globalStatus\": \"HUBEE_COMPLETED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"teledossiers",
								"{{version}}",
								"folders",
								":folderId"
							],
							"variable": [
								{
									"key": "folderId",
									"value": "{{latestFolderCreated}}",
									"description": "f47f8a38-efc1-4dcf-9829-375e4ebc2675"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "B - Traitement d'un télé-dossier par un SI",
			"item": [
				{
					"name": "CERTDC / EtatCivil / JeChangeDeCoordonnees",
					"item": [
						{
							"name": "Recupérer Notif SI1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"pm.test(\"OK\", () => {\r",
											"    pm.response.to.have.status(\"OK\");\r",
											"});\r",
											"\r",
											"const responseJson = pm.response.json();\r",
											"if (responseJson[0]) {\r",
											"    pm.environment.set('pofNotifId', responseJson[0].id);\r",
											"    pm.environment.set('latestCaseCreatedPOF', responseJson[0].caseId);\r",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentSIToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/notifications?maxResult=100000",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"notifications"
									],
									"query": [
										{
											"key": "maxResult",
											"value": "100000"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "SI1 récup case",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"pm.test(\"OK\", () => {\r",
											"    pm.response.to.have.status(\"OK\");\r",
											"});\r",
											"\r",
											"const responseJson = pm.response.json();\r",
											"if (responseJson) {\r",
											"    pm.environment.set('attachmentId1', responseJson.attachments[0].id);\r",
											"    pm.environment.set('attachmentId2', responseJson.attachments[1].id);\r",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentSIToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "téléch. PJ1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"pm.test(\"OK\", () => {\r",
											"  pm.response.to.have.status(\"OK\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentSIToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/attachments/:attachmentId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"attachments",
										":attachmentId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
										},
										{
											"key": "attachmentId",
											"value": "{{attachmentId1}}",
											"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "téléch. PJ2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"pm.test(\"OK\", () => {\r",
											"  pm.response.to.have.status(\"OK\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentSIToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/attachments/:attachmentId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"attachments",
										":attachmentId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
										},
										{
											"key": "attachmentId",
											"value": "{{attachmentId2}}",
											"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "SI1 case - IN_PROGRESS",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentSIToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"status\": \"IN_PROGRESS\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "historique IN_PROGRESS",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const responseJson = pm.response.json();\r",
											"pm.environment.set('latestEventCreated', responseJson.id);\r",
											"\r",
											"pm.test(\"201\", function () {\r",
											"    pm.response.to.have.status(201);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentSIToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n \"actionType\": \"STATUS_UPDATE\",\r\n  \"author\": \"George DUBOIS\",\r\n  \"notification\": true,\r\n  \"caseCurrentStatus\": \"HUBEE_NOTIFIED\",\r\n  \"caseNewStatus\": \"IN_PROGRESS\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "del notif SI1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentSIToken}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/notifications/:notificationId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"notifications",
										":notificationId"
									],
									"variable": [
										{
											"key": "notificationId",
											"value": "{{pofNotifId}}",
											"description": "2d07d296-9c08-4c3f-8036-eadcbef25019"
										}
									]
								}
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "C - Fermeture d'un case",
			"item": [
				{
					"name": "1 - SI",
					"item": [
						{
							"name": "SI1 case - DONE",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentSIToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"status\": \"DONE\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "historique - DONE",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const responseJson = pm.response.json();\r",
											"pm.environment.set('latestEventCreated', responseJson.id);\r",
											"\r",
											"pm.test(\"201\", function () {\r",
											"    pm.response.to.have.status(201);\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentSIToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n \"actionType\": \"STATUS_UPDATE\",\r\n  \"author\": \"George DUBOIS\",\r\n  \"notification\": true,\r\n  \"caseCurrentStatus\": \"IN_PROGRESS\",\r\n  \"caseNewStatus\": \"DONE\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}"
										}
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "2 - OSL",
					"item": [
						{
							"name": "Récupérer notif OSL",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"pm.test(\"OK\", () => {\r",
											"    pm.response.to.have.status(\"OK\");\r",
											"});\r",
											"\r",
											"// const jsonData = pm.response.json();\r",
											"// let notificationsIdList = [];\r",
											"// jsonData.forEach(function (data) {\r",
											"//     notificationsIdList.push(data.caseId);\r",
											"// });\r",
											"\r",
											"// pm.test(\"Une des notification concerne le dossier POF qui vient de passer au statut SI_RECEIVED\", () => {\r",
											"//     pm.expect(pm.environment.get(\"latestCaseCreatedPOF\")).to.be.oneOf(notificationsIdList);\r",
											"// });\r",
											"\r",
											"const responseJson = pm.response.json();\r",
											"if (responseJson) {\r",
											"    pm.environment.set('oslNotifId', responseJson[0].id);\r",
											"    pm.environment.set('latestCase', responseJson[0].caseId);\r",
											"}\r",
											"\r",
											"\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/notifications?maxResult=10000",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"notifications"
									],
									"query": [
										{
											"key": "maxResult",
											"value": "10000"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Pof récup case",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"\r",
											"pm.test(\"OK\", () => {\r",
											"  pm.response.to.have.status(\"OK\");\r",
											"});\r",
											"\r",
											"const responseJson = pm.response.json();\r",
											"if (responseJson.events.length == 0) {\r",
											"}\r",
											"else {\r",
											"        const length = responseJson.events.length\r",
											"        pm.environment.set('latestEventCreated', responseJson.events[length-1].id);\r",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCase}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "event - retour reception statut",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [
									{
										"key": "",
										"value": "",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"status\" : \"RECEIVED\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCase}}",
											"description": "da70c8d6-0610-44a0-a914-276edcfd265d"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "SI1 case closed",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"status\": \"CLOSED\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCase}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "event - SI1 close",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"201\", function () {\r",
											"    pm.response.to.have.status(201);\r",
											"});\r",
											"\r",
											"pm.test(\"Created\", () => {\r",
											"  pm.response.to.have.status(\"Created\");\r",
											"});\r",
											"\r",
											"const responseJson = pm.response.json();\r",
											"pm.environment.set('latestEventCreated', responseJson.id);\r",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "",
										"value": "",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"message\": \"Ceci est un message pour fermer le case\",\r\n  \"comment\": \"le case doit être closed\",\r\n  \"actionType\": \"STATUS_UPDATE\",\r\n  \"author\": \"CERTDC\",\r\n  \"notification\": true,\r\n  \"caseCurrentStatus\": \"DONE\",\r\n  \"caseNewStatus\": \"CLOSED\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCase}}",
											"description": "da70c8d6-0610-44a0-a914-276edcfd265d"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "del notif OSL",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/notifications/:notificationId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"notifications",
										":notificationId"
									],
									"variable": [
										{
											"key": "notificationId",
											"value": "{{oslNotifId}}",
											"description": "2d07d296-9c08-4c3f-8036-eadcbef25019"
										}
									]
								}
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "D - Traitement d'un event",
			"item": [
				{
					"name": "PJ",
					"item": [
						{
							"name": "1 - SI1",
							"item": [
								{
									"name": "CERTDC",
									"item": [
										{
											"name": "Recupérer Notif SI1",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"pm.test(\"OK\", () => {\r",
															"  pm.response.to.have.status(\"OK\");\r",
															"});\r",
															"\r",
															"const jsonData = pm.response.json();\r",
															"let notificationsIdList = [];\r",
															"jsonData.forEach (function (data){\r",
															"    notificationsIdList.push(data.caseId);\r",
															"});\r",
															"\r",
															"pm.test(\"Une des notification concerne le dossier qui vien d'être fermé\", () => {\r",
															"    pm.expect(pm.environment.get(\"latestCaseCreatedPOF\")).to.be.oneOf(notificationsIdList);\r",
															"});\r",
															"\r",
															"const responseJson = pm.response.json();\r",
															"if(responseJson[0]) {\r",
															"    pm.environment.set('pofNotifId', responseJson[0].id);\r",
															"    pm.environment.set('latestCaseCreatedPOF', responseJson[0].caseId);\r",
															"    pm.environment.set('latestEventCreated', responseJson[0].eventId);\r",
															"}\r",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentSIToken}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/notifications?maxResult=100000",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"notifications"
													],
													"query": [
														{
															"key": "maxResult",
															"value": "100000"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Recupéreration de l'event",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"pm.test(\"OK\", () => {\r",
															"  pm.response.to.have.status(\"OK\");\r",
															"});\r",
															"\r",
															"// const jsonData = pm.response.json();\r",
															"// let notificationsIdList = [];\r",
															"// jsonData.forEach (function (data){\r",
															"//     notificationsIdList.push(data.caseId);\r",
															"// });\r",
															"\r",
															"// pm.test(\"Une des notification concerne le dossier qui vien d'être fermé\", () => {\r",
															"//     pm.expect(pm.environment.get(\"latestCaseCreatedPOF\")).to.be.oneOf(notificationsIdList);\r",
															"// });\r",
															"\r",
															"const responseJson = pm.response.json();\r",
															"if(responseJson[0]) {\r",
															"    // pm.environment.set('pofcaseId', responseJson[0].id);\r",
															"    // pm.environment.set('latestEventCreated', responseJson[0].eventId);\r",
															"    pm.environment.set('attachmentId1', attachments[0].id);\r",
															"    pm.environment.set('attachmentId2', attachments[1].id);\r",
															"}\r",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentSIToken}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId",
														"events",
														":eventId"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "{{latestCaseCreatedPOF}}"
														},
														{
															"key": "eventId",
															"value": "{{latestEventCreated}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "téléch. PJ1 SI1",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"pm.test(\"OK\", () => {\r",
															"  pm.response.to.have.status(\"OK\");\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentSIToken}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId",
														"events",
														":eventId",
														"attachments",
														":attachmentId"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "{{latestCaseCreatedPOF}}",
															"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
														},
														{
															"key": "eventId",
															"value": "{{latestEventCreated}}"
														},
														{
															"key": "attachmentId",
															"value": "{{attachmentId1}}",
															"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "téléch. PJ2 SI1",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"pm.test(\"OK\", () => {\r",
															"  pm.response.to.have.status(\"OK\");\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentSIToken}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId",
														"events",
														":eventId",
														"attachments",
														":attachmentId"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "{{latestCaseCreatedPOF}}",
															"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
														},
														{
															"key": "eventId",
															"value": "{{latestEventCreated}}"
														},
														{
															"key": "attachmentId",
															"value": "{{attachmentId2}}",
															"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "TD téléchargé SI1 - status",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"204\", function () {\r",
															"    pm.response.to.have.status(204);\r",
															"});\r",
															"\r",
															"pm.test(\"No Content\", () => {\r",
															"  pm.response.to.have.status(\"No Content\");\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentSIToken}}",
															"type": "string"
														}
													]
												},
												"method": "PATCH",
												"header": [],
												"body": {
													"mode": "raw",
													"raw": "{\r\n  \"status\": \"IN_PROGRESS\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "{{latestCaseCreatedPOF}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "event - DL case SI1",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"201\", function () {\r",
															"    pm.response.to.have.status(201);\r",
															"});\r",
															"\r",
															"pm.test(\"Created\", () => {\r",
															"  pm.response.to.have.status(\"Created\");\r",
															"});\r",
															"\r",
															"const responseJson = pm.response.json();\r",
															"pm.environment.set('poflatestEventCreated', responseJson.id);\r",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentSIToken}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "",
														"value": "",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n  \"actionType\": \"STATUS_UPDATE\",\r\n  \"author\": \"George DUBOIS\",\r\n  \"notification\": true,\r\n  \"caseCurrentStatus\": \"HUBEE_NOTIFIED\",\r\n  \"caseNewStatus\": \"IN_PROGRESS\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId",
														"events"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "{{latestCaseCreatedPOF}}",
															"description": "da70c8d6-0610-44a0-a914-276edcfd265d"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "event - update SI1",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"201\", function () {\r",
															"    pm.response.to.have.status(201);\r",
															"});\r",
															"\r",
															"pm.test(\"Created\", () => {\r",
															"  pm.response.to.have.status(\"Created\");\r",
															"});\r",
															"\r",
															"const responseJson = pm.response.json();\r",
															"pm.environment.set('latestEventCreated', responseJson.id);\r",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentSIToken}}",
															"type": "string"
														}
													]
												},
												"method": "PATCH",
												"header": [
													{
														"key": "",
														"value": "",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"status\": \"RECEIVED\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId",
														"events",
														":eventId"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "{{latestCaseCreatedPOF}}",
															"description": "da70c8d6-0610-44a0-a914-276edcfd265d"
														},
														{
															"key": "eventId",
															"value": "{{poflatestEventCreated}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "del notif SI1",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"204\", function () {\r",
															"    pm.response.to.have.status(204);\r",
															"});\r",
															"\r",
															"pm.test(\"No Content\", () => {\r",
															"  pm.response.to.have.status(\"No Content\");\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentSIToken}}",
															"type": "string"
														}
													]
												},
												"method": "DELETE",
												"header": [],
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/notifications/:notificationId",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"notifications",
														":notificationId"
													],
													"variable": [
														{
															"key": "notificationId",
															"value": "{{pofNotifId}}",
															"description": "2d07d296-9c08-4c3f-8036-eadcbef25019"
														}
													]
												}
											},
											"response": []
										}
									]
								}
							]
						},
						{
							"name": "2- OSL",
							"item": [
								{
									"name": "RecensementCitoyen",
									"item": [
										{
											"name": "Recupérer Notif OSL",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"pm.test(\"OK\", () => {\r",
															"  pm.response.to.have.status(\"OK\");\r",
															"});\r",
															"\r",
															"const responseJson = pm.response.json();\r",
															"if(responseJson) {\r",
															"    pm.environment.set('oslNotifId', responseJson[0].id);\r",
															"    pm.environment.set('mairiecaseId', responseJson[0].caseId);\r",
															"    pm.environment.set('mairieeventId', responseJson[0].eventId);\r",
															"}\r",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentOSLToken}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/notifications?maxResult=100000",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"notifications"
													],
													"query": [
														{
															"key": "maxResult",
															"value": "100000"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Recupéreration du case",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"pm.test(\"OK\", () => {\r",
															"  pm.response.to.have.status(\"OK\");\r",
															"});\r",
															"\r",
															"const jsonData = pm.response.json();\r",
															"let notificationsIdList = [];\r",
															"jsonData.forEach (function (data){\r",
															"    notificationsIdList.push(data.caseId);\r",
															"});\r",
															"\r",
															"pm.test(\"Une des notification concerne le dossier qui vien d'être fermé\", () => {\r",
															"    pm.expect(pm.environment.get(\"latestCaseCreatedPOF\")).to.be.oneOf(notificationsIdList);\r",
															"});\r",
															"\r",
															"const responseJson = pm.response.json();\r",
															"if(responseJson[0]) {\r",
															"    pm.environment.set('mairieeventId', responseJson[0].eventId);\r",
															"    pm.environment.set('attachmentId1', responseJson[0].events[0].attachments[0].id);\r",
															"    pm.environment.set('attachmentId2', responseJson[0].events[0].attachments[1].id);\r",
															"}\r",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentOSLToken}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "{{mairiecaseId}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "téléch. PJ1 OSL",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"pm.test(\"OK\", () => {\r",
															"  pm.response.to.have.status(\"OK\");\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentOSLToken}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId",
														"events",
														":eventId",
														"attachments",
														":attachmentId"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "{{mairiecaseId}}",
															"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
														},
														{
															"key": "eventId",
															"value": "{{mairieeventId}}"
														},
														{
															"key": "attachmentId",
															"value": "{{attachmentId1}}",
															"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "téléch. PJ2 OSL",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"pm.test(\"OK\", () => {\r",
															"  pm.response.to.have.status(\"OK\");\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentOSLToken}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId",
														"events",
														":eventId",
														"attachments",
														":attachmentId"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "{{mairiecaseId}}",
															"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
														},
														{
															"key": "eventId",
															"value": "{{mairieeventId}}"
														},
														{
															"key": "attachmentId",
															"value": "{{attachmentId2}}",
															"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "téléch. PJ3 OSL",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"pm.test(\"OK\", () => {\r",
															"  pm.response.to.have.status(\"OK\");\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentOSLToken}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId",
														"events",
														":eventId",
														"attachments",
														":attachmentId"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "{{mairiecaseId}}",
															"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
														},
														{
															"key": "eventId",
															"value": "{{mairieeventId}}"
														},
														{
															"key": "attachmentId",
															"value": "{{attachmentId3}}",
															"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "téléch. PJ4 OSL",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"200\", function () {\r",
															"    pm.response.to.have.status(200);\r",
															"});\r",
															"\r",
															"pm.test(\"OK\", () => {\r",
															"  pm.response.to.have.status(\"OK\");\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentOSLToken}}",
															"type": "string"
														}
													]
												},
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId",
														"events",
														":eventId",
														"attachments",
														":attachmentId"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "{{mairiecaseId}}",
															"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
														},
														{
															"key": "eventId",
															"value": "{{mairieeventId}}"
														},
														{
															"key": "attachmentId",
															"value": "{{attachmentId4}}",
															"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "TD téléchargé OSL - status",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"204\", function () {\r",
															"    pm.response.to.have.status(204);\r",
															"});\r",
															"\r",
															"pm.test(\"No Content\", () => {\r",
															"  pm.response.to.have.status(\"No Content\");\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentOSLToken}}",
															"type": "string"
														}
													]
												},
												"method": "PATCH",
												"header": [],
												"body": {
													"mode": "raw",
													"raw": "{\r\n  \"status\": \"IN_PROGRESS\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "{{mairiecaseId}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "event - DL case OSL",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"201\", function () {\r",
															"    pm.response.to.have.status(201);\r",
															"});\r",
															"\r",
															"pm.test(\"Created\", () => {\r",
															"  pm.response.to.have.status(\"Created\");\r",
															"});\r",
															"\r",
															"const responseJson = pm.response.json();\r",
															"pm.environment.set('latestEventCreated', responseJson.id);\r",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentOSLToken}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "",
														"value": "",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n  \"actionType\": \"STATUS_UPDATE\",\r\n  \"author\": \"George DUBOIS\",\r\n  \"notification\": true,\r\n  \"caseCurrentStatus\": \"HUBEE_NOTIFIED\",\r\n  \"caseNewStatus\": \"IN_PROGRESS\",\r\n  \"message\":\"pas de PJs supplémentaires\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId",
														"events"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "{{mairiecaseId}}",
															"description": "da70c8d6-0610-44a0-a914-276edcfd265d"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "del notif OSL",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"204\", function () {\r",
															"    pm.response.to.have.status(204);\r",
															"});\r",
															"\r",
															"pm.test(\"No Content\", () => {\r",
															"  pm.response.to.have.status(\"No Content\");\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentOSLToken}}",
															"type": "string"
														}
													]
												},
												"method": "DELETE",
												"header": [],
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/notifications/:notificationId",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"notifications",
														":notificationId"
													],
													"variable": [
														{
															"key": "notificationId",
															"value": "{{oslNotifId}}",
															"description": "2d07d296-9c08-4c3f-8036-eadcbef25019"
														}
													]
												}
											},
											"response": []
										}
									]
								}
							]
						}
					]
				},
				{
					"name": "MSG",
					"item": [
						{
							"name": "1 - SI",
							"item": [
								{
									"name": "Recpérer Notif SI",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"\r",
													"pm.test(\"OK\", () => {\r",
													"    pm.response.to.have.status(\"OK\");\r",
													"});\r",
													"\r",
													"// const jsonData = pm.response.json();\r",
													"// let notificationsIdList = [];\r",
													"// jsonData.forEach(function (data) {\r",
													"//     notificationsIdList.push(data.caseId);\r",
													"// });\r",
													"\r",
													"// pm.test(\"Une des notification concerne le dossier qui vien d'être fermé\", () => {\r",
													"//     pm.expect(pm.environment.get(\"latestCaseCreatedPOF\")).to.be.oneOf(notificationsIdList);\r",
													"// });\r",
													"\r",
													"const responseJson = pm.response.json();\r",
													"if (responseJson) {\r",
													"    pm.environment.set('pofNotifId', responseJson[0].id);\r",
													"    pm.environment.set('latestCaseCreatedPOF', responseJson[0].caseId);\r",
													"    pm.environment.set('latestEventCreated', responseJson[0].eventId);\r",
													"}\r",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{currentSIToken}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{baseUrl}}/teledossiers/{{version}}/notifications?maxResult=100000",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"teledossiers",
												"{{version}}",
												"notifications"
											],
											"query": [
												{
													"key": "maxResult",
													"value": "100000"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Recpérer event",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"\r",
													"pm.test(\"OK\", () => {\r",
													"    pm.response.to.have.status(\"OK\");\r",
													"});\r",
													"\r",
													"const responseJson = pm.response.json();\r",
													"if (responseJson.status === \"RECEIVED\") {\r",
													"    postman.setNextRequest('delete_event_SI');\r",
													"}"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{currentSIToken}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"teledossiers",
												"{{version}}",
												"cases",
												":caseId",
												"events",
												":eventId"
											],
											"variable": [
												{
													"key": "caseId",
													"value": "{{latestCaseCreatedPOF}}"
												},
												{
													"key": "eventId",
													"value": "{{latestEventCreated}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "patch_event_SI",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"204\", function () {\r",
													"    pm.response.to.have.status(204);\r",
													"});\r",
													"\r",
													"pm.test(\"No Content\", () => {\r",
													"  pm.response.to.have.status(\"No Content\");\r",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{currentSIToken}}",
													"type": "string"
												}
											]
										},
										"method": "PATCH",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"status\": \"RECEIVED\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"teledossiers",
												"{{version}}",
												"cases",
												":caseId",
												"events",
												":eventId"
											],
											"variable": [
												{
													"key": "caseId",
													"value": "{{latestCaseCreatedPOF}}"
												},
												{
													"key": "eventId",
													"value": "{{latestEventCreated}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "delete_event_SI",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"204\", function () {\r",
													"    pm.response.to.have.status(204);\r",
													"});\r",
													"\r",
													"pm.test(\"No Content\", () => {\r",
													"  pm.response.to.have.status(\"No Content\");\r",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{currentSIToken}}",
													"type": "string"
												}
											]
										},
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{baseUrl}}/teledossiers/{{version}}/notifications/:notificationId",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"teledossiers",
												"{{version}}",
												"notifications",
												":notificationId"
											],
											"variable": [
												{
													"key": "notificationId",
													"value": "{{pofNotifId}}",
													"description": "2d07d296-9c08-4c3f-8036-eadcbef25019"
												}
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "2- OSL",
							"item": [
								{
									"name": "Recpérer Notif OSL",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"\r",
													"pm.test(\"OK\", () => {\r",
													"    pm.response.to.have.status(\"OK\");\r",
													"});\r",
													"\r",
													"// const jsonData = pm.response.json();\r",
													"// let notificationsIdList = [];\r",
													"// jsonData.forEach(function (data) {\r",
													"//     notificationsIdList.push(data.caseId);\r",
													"// });\r",
													"\r",
													"// pm.test(\"Une des notification concerne le dossier qui vien d'être fermé\", () => {\r",
													"//     pm.expect(pm.environment.get(\"latestCaseCreatedPOF\")).to.be.oneOf(notificationsIdList);\r",
													"// });\r",
													"\r",
													"const responseJson = pm.response.json();\r",
													"if (responseJson[0]) {\r",
													"    pm.environment.set('oslNotifId', responseJson[0].id);\r",
													"    pm.environment.set('latestCaseCreatedPOF', responseJson[0].caseId);\r",
													"    pm.environment.set('latestEventCreated', responseJson[0].eventId);\r",
													"}\r",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{currentOSLToken}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{baseUrl}}/teledossiers/{{version}}/notifications?maxResult=100000",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"teledossiers",
												"{{version}}",
												"notifications"
											],
											"query": [
												{
													"key": "maxResult",
													"value": "100000"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Recpérer event",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"\r",
													"pm.test(\"OK\", () => {\r",
													"    pm.response.to.have.status(\"OK\");\r",
													"});\r",
													"\r",
													"const responseJson = pm.response.json();\r",
													"if (responseJson.status === \"RECEIVED\") {\r",
													"    postman.setNextRequest('delete_event_OSL');\r",
													"}\r",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{currentOSLToken}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"teledossiers",
												"{{version}}",
												"cases",
												":caseId",
												"events",
												":eventId"
											],
											"variable": [
												{
													"key": "caseId",
													"value": "{{latestCaseCreatedPOF}}"
												},
												{
													"key": "eventId",
													"value": "{{latestEventCreated}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "patch_event_OSL",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"204\", function () {\r",
													"    pm.response.to.have.status(204);\r",
													"});\r",
													"\r",
													"pm.test(\"No Content\", () => {\r",
													"  pm.response.to.have.status(\"No Content\");\r",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{currentOSLToken}}",
													"type": "string"
												}
											]
										},
										"method": "PATCH",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n  \"status\": \"RECEIVED\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"teledossiers",
												"{{version}}",
												"cases",
												":caseId",
												"events",
												":eventId"
											],
											"variable": [
												{
													"key": "caseId",
													"value": "{{latestCaseCreatedPOF}}"
												},
												{
													"key": "eventId",
													"value": "{{latestEventCreated}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "delete_event_OSL",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"204\", function () {\r",
													"    pm.response.to.have.status(204);\r",
													"});\r",
													"\r",
													"pm.test(\"No Content\", () => {\r",
													"  pm.response.to.have.status(\"No Content\");\r",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{currentOSLToken}}",
													"type": "string"
												}
											]
										},
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{baseUrl}}/teledossiers/{{version}}/notifications/:notificationId",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"teledossiers",
												"{{version}}",
												"notifications",
												":notificationId"
											],
											"variable": [
												{
													"key": "notificationId",
													"value": "{{oslNotifId}}",
													"description": "2d07d296-9c08-4c3f-8036-eadcbef25019"
												}
											]
										}
									},
									"response": []
								}
							]
						}
					]
				}
			]
		},
		{
			"name": "E - Fermeture d'un folder par l'OSL",
			"item": [
				{
					"name": "Cloturer TD complet",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"204\", function () {\r",
									"    pm.response.to.have.status(204);\r",
									"});\r",
									"\r",
									"pm.test(\"successful operation\", () => {\r",
									"  pm.response.to.have.status(\"No Content\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{currentOSLToken}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n \"globalStatus\": \"CLOSED\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"teledossiers",
								"{{version}}",
								"folders",
								":folderId"
							],
							"variable": [
								{
									"key": "folderId",
									"value": "{{latestFolderCreated}}",
									"description": "f47f8a38-efc1-4dcf-9829-375e4ebc2675"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "F - Réouverture d'un folder par l'OSL",
			"item": [
				{
					"name": "CERTDC",
					"item": [
						{
							"name": "Event_ajoutPJ_SI1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"201\", function () {\r",
											"    pm.response.to.have.status(201);\r",
											"});\r",
											"\r",
											"pm.test(\"Created\", () => {\r",
											"  pm.response.to.have.status(\"Created\");\r",
											"});\r",
											"\r",
											"const responseJson = pm.response.json();\r",
											"pm.environment.set('latestEventCreated', responseJson.id);\r",
											"pm.environment.set('eventAttach1', responseJson.attachments[0].id);\r",
											"pm.environment.set('eventAttach2', responseJson.attachments[1].id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "",
										"value": "",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"actionType\": \"ATTACH_DEPOSIT\",\r\n  \"author\": \"George DUBOIS\",\r\n  \"notification\": true,\r\n  \"caseCurrentStatus\": \"CLOSED\",\r\n  \"caseNewStatus\": \"HUBEE_NOTIFIED\",\r\n  \"attachments\": [\r\n      {\r\n            \"fileName\": \"ER20190860001_20190517_1512_DD.pdf\",\r\n            \"type\": \"DD_Certificatdedeces\",\r\n            \"size\": 96149,\r\n            \"mimeType\": \"application/pdf\"\r\n        },\r\n        {\r\n            \"fileName\": \"ER20190860001_20190517_1512_DD.xml\",\r\n            \"type\": \"DD_Certificatdedeces\",\r\n            \"size\": 988,\r\n            \"mimeType\": \"application/xml\"\r\n        }\r\n    \r\n  ]\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "184b9598-db92-409d-a81e-d6f107b88a27",
											"description": "da70c8d6-0610-44a0-a914-276edcfd265d"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "upload event attachment 1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/octet-stream",
										"type": "text"
									}
								],
								"body": {
									"mode": "file",
									"file": {
										"src": "ER20190860001_20190517_1512_DD.pdf"
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId",
										"attachments",
										":attachmentId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "4a70ed55-45d7-4773-9ed3-782f996d4968"
										},
										{
											"key": "attachmentId",
											"value": "{{eventAttach1}}",
											"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "upload event attachment 2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/octet-stream",
										"type": "text"
									}
								],
								"body": {
									"mode": "file",
									"file": {
										"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/jdd/CERTDC/ER20190860001_20190517_1512_DD.xml"
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId",
										"attachments",
										":attachmentId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "4a70ed55-45d7-4773-9ed3-782f996d4968"
										},
										{
											"key": "attachmentId",
											"value": "{{eventAttach2}}",
											"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "case pour SI1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"status\": \"HUBEE_NOTIFIED\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "case by caseId EventId",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{DGSToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"status\": \"SENT\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "subfolder d2ff34aa-e848-4ae9-b313-bb002eef2c14"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "6184477b-eb76-4e75-aff8-9369cdb73675"
										}
									]
								},
								"description": "Modification du status d'un event - 204"
							},
							"response": []
						},
						{
							"name": "reouverture_dossier",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"successful operation\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n \"globalStatus\": \"HUBEE_NOTIFIED\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"folders",
										":folderId"
									],
									"variable": [
										{
											"key": "folderId",
											"value": "{{latestFolderCreated}}",
											"description": "f47f8a38-efc1-4dcf-9829-375e4ebc2675"
										}
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "EtatCivil",
					"item": [
						{
							"name": "Event_ajoutPJ_SI1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"201\", function () {\r",
											"    pm.response.to.have.status(201);\r",
											"});\r",
											"\r",
											"pm.test(\"Created\", () => {\r",
											"  pm.response.to.have.status(\"Created\");\r",
											"});\r",
											"\r",
											"const responseJson = pm.response.json();\r",
											"pm.environment.set('latestEventCreated', responseJson.id);\r",
											"pm.environment.set('eventAttach1', responseJson.attachments[0].id);\r",
											"pm.environment.set('eventAttach2', responseJson.attachments[1].id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "",
										"value": "",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"actionType\": \"ATTACH_DEPOSIT\",\r\n    \"author\": \"George DUBOIS\",\r\n    \"notification\": true,\r\n    \"caseCurrentStatus\": \"CLOSED\",\r\n    \"caseNewStatus\": \"HUBEE_NOTIFIED\",\r\n    \"attachments\": [\r\n        {\r\n            \"fileName\": \"ER20190860001_20190517_1512_DD.pdf\",\r\n            \"type\": \"ActeEtatCivil-PDF\",\r\n            \"size\": 3337,\r\n            \"mimeType\": \"application/pdf\"\r\n        },\r\n        {\r\n            \"fileName\": \"ER20190860001_20190517_1512_DD.xml\",\r\n            \"type\": \"ActeEtatCivil-XML\",\r\n            \"size\": 1482,\r\n            \"mimeType\": \"application/xml\"\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "da70c8d6-0610-44a0-a914-276edcfd265d"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "upload event attachment 1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/octet-stream",
										"type": "text"
									}
								],
								"body": {
									"mode": "file",
									"file": {
										"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/ETATCIVIL/ActeEtatCivil-PDF.pdf"
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId",
										"attachments",
										":attachmentId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "4a70ed55-45d7-4773-9ed3-782f996d4968"
										},
										{
											"key": "attachmentId",
											"value": "{{eventAttach1}}",
											"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "upload event attachment 2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/octet-stream",
										"type": "text"
									}
								],
								"body": {
									"mode": "file",
									"file": {
										"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/ETATCIVIL/ActeEtatCivil-XML.xml"
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId",
										"attachments",
										":attachmentId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "4a70ed55-45d7-4773-9ed3-782f996d4968"
										},
										{
											"key": "attachmentId",
											"value": "{{eventAttach2}}",
											"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "case pour SI1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"status\": \"HUBEE_NOTIFIED\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "case by caseId EventId Copy",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{DGSToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"status\": \"SENT\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "subfolder d2ff34aa-e848-4ae9-b313-bb002eef2c14"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "6184477b-eb76-4e75-aff8-9369cdb73675"
										}
									]
								},
								"description": "Modification du status d'un event - 204"
							},
							"response": []
						},
						{
							"name": "reouverture_dossier",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"successful operation\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n \"globalStatus\": \"HUBEE_NOTIFIED\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"folders",
										":folderId"
									],
									"variable": [
										{
											"key": "folderId",
											"value": "{{latestFolderCreated}}",
											"description": "f47f8a38-efc1-4dcf-9829-375e4ebc2675"
										}
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "JeChangeDeCoordonnees",
					"item": [
						{
							"name": "Event_ajoutPJ_SI1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"201\", function () {\r",
											"    pm.response.to.have.status(201);\r",
											"});\r",
											"\r",
											"pm.test(\"Created\", () => {\r",
											"  pm.response.to.have.status(\"Created\");\r",
											"});\r",
											"\r",
											"const responseJson = pm.response.json();\r",
											"pm.environment.set('latestEventCreated', responseJson.id);\r",
											"pm.environment.set('eventAttach1', responseJson.attachments[0].id);\r",
											"pm.environment.set('eventAttach2', responseJson.attachments[1].id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "",
										"value": "",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"actionType\": \"ATTACH_DEPOSIT\",\r\n    \"author\": \"George DUBOIS\",\r\n    \"notification\": true,\r\n    \"caseCurrentStatus\": \"CLOSED\",\r\n    \"caseNewStatus\": \"HUBEE_NOTIFIED\",\r\n    \"attachments\": [\r\n        {\r\n            \"fileName\": \"flux-siv.pdf\",\r\n            \"type\": \"flux-siv\",\r\n            \"size\": 3337,\r\n            \"mimeType\": \"application/pdf\"\r\n        },\r\n        {\r\n            \"fileName\": \"flux-siv.xml\",\r\n            \"type\": \"flux-siv\",\r\n            \"size\": 1482,\r\n            \"mimeType\": \"application/xml\"\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "da70c8d6-0610-44a0-a914-276edcfd265d"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "upload event attachment 1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/octet-stream",
										"type": "text"
									}
								],
								"body": {
									"mode": "file",
									"file": {
										"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/JECHANGEDECOORDONNEES/flux-siv.pdf"
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId",
										"attachments",
										":attachmentId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "4a70ed55-45d7-4773-9ed3-782f996d4968"
										},
										{
											"key": "attachmentId",
											"value": "{{eventAttach1}}",
											"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "upload event attachment 2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/octet-stream",
										"type": "text"
									}
								],
								"body": {
									"mode": "file",
									"file": {
										"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/JECHANGEDECOORDONNEES/flux-siv.xml"
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId",
										"attachments",
										":attachmentId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "4a70ed55-45d7-4773-9ed3-782f996d4968"
										},
										{
											"key": "attachmentId",
											"value": "{{eventAttach2}}",
											"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "case pour SI1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"status\": \"HUBEE_NOTIFIED\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "case by caseId EventId Copy",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{DGSToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"status\": \"SENT\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "subfolder d2ff34aa-e848-4ae9-b313-bb002eef2c14"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "6184477b-eb76-4e75-aff8-9369cdb73675"
										}
									]
								},
								"description": "Modification du status d'un event - 204"
							},
							"response": []
						},
						{
							"name": "reouverture_dossier",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"successful operation\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n \"globalStatus\": \"HUBEE_NOTIFIED\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"folders",
										":folderId"
									],
									"variable": [
										{
											"key": "folderId",
											"value": "{{latestFolderCreated}}",
											"description": "f47f8a38-efc1-4dcf-9829-375e4ebc2675"
										}
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "recensementCitoyen",
					"item": [
						{
							"name": "Event_ajoutPJ_SI1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"201\", function () {\r",
											"    pm.response.to.have.status(201);\r",
											"});\r",
											"\r",
											"pm.test(\"Created\", () => {\r",
											"  pm.response.to.have.status(\"Created\");\r",
											"});\r",
											"\r",
											"const responseJson = pm.response.json();\r",
											"pm.environment.set('latestEventCreated', responseJson.id);\r",
											"pm.environment.set('eventAttach1', responseJson.attachments[0].id);\r",
											"pm.environment.set('eventAttach2', responseJson.attachments[1].id);\r",
											"pm.environment.set('eventAttach3', responseJson.attachments[2].id);\r",
											"pm.environment.set('eventAttach4', responseJson.attachments[3].id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "",
										"value": "",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"actionType\": \"ATTACH_DEPOSIT\",\r\n    \"author\": \"George DUBOIS\",\r\n    \"notification\": true,\r\n    \"caseCurrentStatus\": \"CLOSED\",\r\n    \"caseNewStatus\": \"HUBEE_NOTIFIED\",\r\n    \"attachments\": [\r\n        {\r\n            \"fileName\": \"10870-XML.xml\",\r\n            \"type\": \"10870-XML\",\r\n            \"size\": 3514,\r\n            \"mimeType\": \"application/xml\"\r\n        },\r\n        {\r\n            \"fileName\": \"10870-PDF.pdf\",\r\n            \"type\": \"10870-PDF\",\r\n            \"size\": 102294,\r\n            \"mimeType\": \"application/pdf\"\r\n        },\r\n        {\r\n            \"fileName\": \"A-1-N8F602RR-recensementCitoyen-jf-1.pdf\",\r\n            \"type\": \"jf\",\r\n            \"size\": 4330,\r\n            \"mimeType\": \"application/pdf\"\r\n        },\r\n        {\r\n            \"fileName\": \"A-1-N8F602RR-recensementCitoyen-ji-0.pdf\",\r\n            \"type\": \"ji\",\r\n            \"size\": 3123,\r\n            \"mimeType\": \"application/pdf\"\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "da70c8d6-0610-44a0-a914-276edcfd265d"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "upload event attachment 1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/octet-stream",
										"type": "text"
									}
								],
								"body": {
									"mode": "file",
									"file": {
										"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/RECENSEMENTCITOYEN/10870-XML.xml"
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId",
										"attachments",
										":attachmentId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "4a70ed55-45d7-4773-9ed3-782f996d4968"
										},
										{
											"key": "attachmentId",
											"value": "{{eventAttach1}}",
											"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "upload event attachment 2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/octet-stream",
										"type": "text"
									}
								],
								"body": {
									"mode": "file",
									"file": {
										"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/RECENSEMENTCITOYEN/10870-PDF.pdf"
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId",
										"attachments",
										":attachmentId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "4a70ed55-45d7-4773-9ed3-782f996d4968"
										},
										{
											"key": "attachmentId",
											"value": "{{eventAttach2}}",
											"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "upload event attachment 3",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/octet-stream",
										"type": "text"
									}
								],
								"body": {
									"mode": "file",
									"file": {
										"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/RECENSEMENTCITOYEN/A-1-N8F602RR-recensementCitoyen-jf-1.pdf"
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId",
										"attachments",
										":attachmentId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "4a70ed55-45d7-4773-9ed3-782f996d4968"
										},
										{
											"key": "attachmentId",
											"value": "{{eventAttach3}}",
											"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "upload event attachment 4",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/octet-stream",
										"type": "text"
									}
								],
								"body": {
									"mode": "file",
									"file": {
										"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/RECENSEMENTCITOYEN/A-1-N8F602RR-recensementCitoyen-ji-0.pdf"
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId",
										"attachments",
										":attachmentId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "4a70ed55-45d7-4773-9ed3-782f996d4968"
										},
										{
											"key": "attachmentId",
											"value": "{{eventAttach4}}",
											"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "case",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"status\": \"HUBEE_NOTIFIED\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "case by caseId EventId Copy",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{DGSToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"status\": \"SENT\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "subfolder d2ff34aa-e848-4ae9-b313-bb002eef2c14"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "6184477b-eb76-4e75-aff8-9369cdb73675"
										}
									]
								},
								"description": "Modification du status d'un event - 204"
							},
							"response": []
						},
						{
							"name": "reouverture_dossier",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"successful operation\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n \"globalStatus\": \"HUBEE_NOTIFIED\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"folders",
										":folderId"
									],
									"variable": [
										{
											"key": "folderId",
											"value": "{{latestFolderCreated}}",
											"description": "f47f8a38-efc1-4dcf-9829-375e4ebc2675"
										}
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "depotDossierPACS",
					"item": [
						{
							"name": "Event_ajoutPJ_SI1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"201\", function () {\r",
											"    pm.response.to.have.status(201);\r",
											"});\r",
											"\r",
											"pm.test(\"Created\", () => {\r",
											"  pm.response.to.have.status(\"Created\");\r",
											"});\r",
											"\r",
											"const responseJson = pm.response.json();\r",
											"pm.environment.set('latestEventCreated', responseJson.id);\r",
											"pm.environment.set('eventAttach1', responseJson.attachments[0].id);\r",
											"pm.environment.set('eventAttach2', responseJson.attachments[1].id);\r",
											"pm.environment.set('eventAttach3', responseJson.attachments[2].id);\r",
											"pm.environment.set('eventAttach4', responseJson.attachments[3].id);\r",
											"pm.environment.set('eventAttach5', responseJson.attachments[4].id);\r",
											"pm.environment.set('eventAttach6', responseJson.attachments[5].id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "",
										"value": "",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"actionType\": \"ATTACH_DEPOSIT\",\r\n    \"author\": \"George DUBOIS\",\r\n    \"notification\": true,\r\n    \"caseCurrentStatus\": \"CLOSED\",\r\n    \"caseNewStatus\": \"HUBEE_NOTIFIED\",\r\n    \"attachments\": [\r\n        {\r\n            \"fileName\": \"15725-02.pdf\",\r\n            \"type\": \"15725-02\",\r\n            \"size\": 532160,\r\n            \"mimeType\": \"application/pdf\"\r\n        },\r\n        {\r\n            \"fileName\": \"A-1-NGF8UV66-depotDossierPACS-an-0.pdf\",\r\n            \"type\": \"an\",\r\n            \"size\": 25727,\r\n            \"mimeType\": \"application/pdf\"\r\n        },\r\n        {\r\n            \"fileName\": \"A-1-NGF8UV66-depotDossierPACS-anp-1.pdf\",\r\n            \"type\": \"anp\",\r\n            \"size\": 25727,\r\n            \"mimeType\": \"application/pdf\"\r\n        },\r\n        {\r\n            \"fileName\": \"A-1-NGF8UV66-depotDossierPACS-cp-2.pdf\",\r\n            \"type\": \"cp\",\r\n            \"size\": 25727,\r\n            \"mimeType\": \"application/pdf\"\r\n        },\r\n        {\r\n            \"fileName\": \"flux-pacs.xml\",\r\n            \"type\": \"flux-pacs\",\r\n            \"size\": 2374,\r\n            \"mimeType\": \"application/xml\"\r\n        },\r\n        {\r\n            \"fileName\": \"recapPDF.pdf\",\r\n            \"type\": \"recapPDF\",\r\n            \"size\": 4715,\r\n            \"mimeType\": \"application/pdf\"\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "da70c8d6-0610-44a0-a914-276edcfd265d"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "upload event attachment 1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/octet-stream",
										"type": "text"
									}
								],
								"body": {
									"mode": "file",
									"file": {
										"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/DEPOTDOSSIERPACS/15725-02.pdf"
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId",
										"attachments",
										":attachmentId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "4a70ed55-45d7-4773-9ed3-782f996d4968"
										},
										{
											"key": "attachmentId",
											"value": "{{eventAttach1}}",
											"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "upload event attachment 2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/octet-stream",
										"type": "text"
									}
								],
								"body": {
									"mode": "file",
									"file": {
										"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/DEPOTDOSSIERPACS/A-1-NGF8UV66-depotDossierPACS-an-0.pdf"
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId",
										"attachments",
										":attachmentId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "4a70ed55-45d7-4773-9ed3-782f996d4968"
										},
										{
											"key": "attachmentId",
											"value": "{{eventAttach2}}",
											"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "upload event attachment 3",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/octet-stream",
										"type": "text"
									}
								],
								"body": {
									"mode": "file",
									"file": {
										"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/DEPOTDOSSIERPACS/A-1-NGF8UV66-depotDossierPACS-anp-1.pdf"
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId",
										"attachments",
										":attachmentId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "4a70ed55-45d7-4773-9ed3-782f996d4968"
										},
										{
											"key": "attachmentId",
											"value": "{{eventAttach3}}",
											"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "upload event attachment 4",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/octet-stream",
										"type": "text"
									}
								],
								"body": {
									"mode": "file",
									"file": {
										"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/DEPOTDOSSIERPACS/A-1-NGF8UV66-depotDossierPACS-cp-2.pdf"
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId",
										"attachments",
										":attachmentId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "4a70ed55-45d7-4773-9ed3-782f996d4968"
										},
										{
											"key": "attachmentId",
											"value": "{{eventAttach4}}",
											"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "upload event attachment 5",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/octet-stream",
										"type": "text"
									}
								],
								"body": {
									"mode": "file",
									"file": {
										"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/DEPOTDOSSIERPACS/flux-pacs.xml"
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId",
										"attachments",
										":attachmentId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "4a70ed55-45d7-4773-9ed3-782f996d4968"
										},
										{
											"key": "attachmentId",
											"value": "{{eventAttach5}}",
											"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "upload event attachment 6",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/octet-stream",
										"type": "text"
									}
								],
								"body": {
									"mode": "file",
									"file": {
										"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/DEPOTDOSSIERPACS/recapPDF.pdf"
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId",
										"attachments",
										":attachmentId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "4a70ed55-45d7-4773-9ed3-782f996d4968"
										},
										{
											"key": "attachmentId",
											"value": "{{eventAttach6}}",
											"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "modification du status du case",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"status\": \"HUBEE_NOTIFIED\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "case by caseId EventId Copy",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{DGSToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"status\": \"SENT\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "subfolder d2ff34aa-e848-4ae9-b313-bb002eef2c14"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "6184477b-eb76-4e75-aff8-9369cdb73675"
										}
									]
								},
								"description": "Modification du status d'un event - 204"
							},
							"response": []
						},
						{
							"name": "modification du status du folder",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"successful operation\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n \"globalStatus\": \"HUBEE_NOTIFIED\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"folders",
										":folderId"
									],
									"variable": [
										{
											"key": "folderId",
											"value": "{{latestFolderCreated}}",
											"description": "f47f8a38-efc1-4dcf-9829-375e4ebc2675"
										}
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "CAF-contact",
					"item": [
						{
							"name": "Event_ajoutPJ_SI1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"201\", function () {\r",
											"    pm.response.to.have.status(201);\r",
											"});\r",
											"\r",
											"pm.test(\"Created\", () => {\r",
											"  pm.response.to.have.status(\"Created\");\r",
											"});\r",
											"\r",
											"const responseJson = pm.response.json();\r",
											"pm.environment.set('latestEventCreated', responseJson.id);\r",
											"pm.environment.set('eventAttach1', responseJson.attachments[0].id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "",
										"value": "",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"actionType\": \"ATTACH_DEPOSIT\",\r\n  \"author\": \"George DUBOIS\",\r\n  \"notification\": true,\r\n  \"caseCurrentStatus\": \"CLOSED\",\r\n  \"caseNewStatus\": \"HUBEE_NOTIFIED\",\r\n  \"attachments\": [\r\n      {\r\n            \"fileName\": \"ER20190860001_20190517_1512_DD.pdf\",\r\n            \"type\": \"DD_Certificatdedeces\",\r\n            \"size\": 96149,\r\n            \"mimeType\": \"application/pdf\"\r\n        },\r\n        {\r\n            \"fileName\": \"ER20190860001_20190517_1512_DD.xml\",\r\n            \"type\": \"DD_Certificatdedeces\",\r\n            \"size\": 988,\r\n            \"mimeType\": \"application/xml\"\r\n        }\r\n    \r\n  ]\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "da70c8d6-0610-44a0-a914-276edcfd265d"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "upload event attachment 1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/octet-stream",
										"type": "text"
									}
								],
								"body": {
									"mode": "file",
									"file": {
										"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/CAF-contact/coordonnees-allocataire.txt"
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId",
										"attachments",
										":attachmentId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "4a70ed55-45d7-4773-9ed3-782f996d4968"
										},
										{
											"key": "attachmentId",
											"value": "{{eventAttach1}}",
											"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "case pour SI1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"status\": \"HUBEE_NOTIFIED\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "case by caseId EventId Copy",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{DGSToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"status\": \"SENT\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "subfolder d2ff34aa-e848-4ae9-b313-bb002eef2c14"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "6184477b-eb76-4e75-aff8-9369cdb73675"
										}
									]
								},
								"description": "Modification du status d'un event - 204"
							},
							"response": []
						},
						{
							"name": "reouverture_dossier",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"successful operation\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n \"globalStatus\": \"HUBEE_NOTIFIED\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"folders",
										":folderId"
									],
									"variable": [
										{
											"key": "folderId",
											"value": "{{latestFolderCreated}}",
											"description": "f47f8a38-efc1-4dcf-9829-375e4ebc2675"
										}
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "RSA",
					"item": [
						{
							"name": "Event_ajoutPJ_SI1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"201\", function () {\r",
											"    pm.response.to.have.status(201);\r",
											"});\r",
											"\r",
											"pm.test(\"Created\", () => {\r",
											"  pm.response.to.have.status(\"Created\");\r",
											"});\r",
											"\r",
											"const responseJson = pm.response.json();\r",
											"pm.environment.set('latestEventCreated', responseJson.id);\r",
											"pm.environment.set('eventAttach1', responseJson.attachments[0].id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "",
										"value": "",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"actionType\": \"ATTACH_DEPOSIT\",\r\n    \"author\": \"George DUBOIS\",\r\n    \"notification\": true,\r\n    \"caseCurrentStatus\": \"CLOSED\",\r\n    \"caseNewStatus\": \"HUBEE_NOTIFIED\",\r\n    \"attachments\": [\r\n        {\r\n            \"fileName\": \"documents.xml\",\r\n            \"type\": \"documents\",\r\n            \"size\": 1482,\r\n            \"mimeType\": \"application/xml\"\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "da70c8d6-0610-44a0-a914-276edcfd265d"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "upload event attachment 1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/octet-stream",
										"type": "text"
									}
								],
								"body": {
									"mode": "file",
									"file": {
										"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique/JDD/RSA/documents.xml"
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId",
										"attachments",
										":attachmentId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "4a70ed55-45d7-4773-9ed3-782f996d4968"
										},
										{
											"key": "attachmentId",
											"value": "{{eventAttach1}}",
											"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "case pour SI1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"status\": \"HUBEE_NOTIFIED\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "case by caseId EventId Copy",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{DGSToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"status\": \"SENT\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "subfolder d2ff34aa-e848-4ae9-b313-bb002eef2c14"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "6184477b-eb76-4e75-aff8-9369cdb73675"
										}
									]
								},
								"description": "Modification du status d'un event - 204"
							},
							"response": []
						},
						{
							"name": "reouverture_dossier",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"successful operation\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n \"globalStatus\": \"HUBEE_NOTIFIED\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"folders",
										":folderId"
									],
									"variable": [
										{
											"key": "folderId",
											"value": "{{latestFolderCreated}}",
											"description": "f47f8a38-efc1-4dcf-9829-375e4ebc2675"
										}
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "SNATED",
					"item": [
						{
							"name": "Event_ajoutPJ_SI1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"201\", function () {\r",
											"    pm.response.to.have.status(201);\r",
											"});\r",
											"\r",
											"pm.test(\"Created\", () => {\r",
											"  pm.response.to.have.status(\"Created\");\r",
											"});\r",
											"\r",
											"const responseJson = pm.response.json();\r",
											"pm.environment.set('latestEventCreated', responseJson.id);\r",
											"pm.environment.set('eventAttach1', responseJson.attachments[0].id);\r",
											"pm.environment.set('eventAttach2', responseJson.attachments[1].id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "",
										"value": "",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"actionType\": \"ATTACH_DEPOSIT\",\r\n    \"author\": \"George DUBOIS\",\r\n    \"notification\": true,\r\n    \"caseCurrentStatus\": \"CLOSED\",\r\n    \"caseNewStatus\": \"HUBEE_NOTIFIED\",\r\n    \"attachments\": [\r\n        {\r\n            \"fileName\": \"documents.xml\",\r\n            \"type\": \"documents\",\r\n            \"size\": 3099,\r\n            \"mimeType\": \"application/xml\"\r\n        },\r\n        {\r\n            \"fileName\": \"documents.pdf\",\r\n            \"type\": \"documents\",\r\n            \"size\": 26201,\r\n            \"mimeType\": \"application/pdf\"\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "da70c8d6-0610-44a0-a914-276edcfd265d"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "upload event attachment 1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/octet-stream",
										"type": "text"
									}
								],
								"body": {
									"mode": "file",
									"file": {
										"src": "ER20190860001_20190517_1512_DD.pdf"
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId",
										"attachments",
										":attachmentId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "4a70ed55-45d7-4773-9ed3-782f996d4968"
										},
										{
											"key": "attachmentId",
											"value": "{{eventAttach1}}",
											"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "upload event attachment 2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/octet-stream",
										"type": "text"
									}
								],
								"body": {
									"mode": "file",
									"file": {
										"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/jdd/CERTDC/ER20190860001_20190517_1512_DD.xml"
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId",
										"attachments",
										":attachmentId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "4a70ed55-45d7-4773-9ed3-782f996d4968"
										},
										{
											"key": "attachmentId",
											"value": "{{eventAttach2}}",
											"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "case pour SI1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"status\": \"HUBEE_NOTIFIED\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "case by caseId EventId Copy",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"No Content\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{DGSToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n  \"status\": \"SENT\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"cases",
										":caseId",
										"events",
										":eventId"
									],
									"variable": [
										{
											"key": "caseId",
											"value": "{{latestCaseCreatedPOF}}",
											"description": "subfolder d2ff34aa-e848-4ae9-b313-bb002eef2c14"
										},
										{
											"key": "eventId",
											"value": "{{latestEventCreated}}",
											"description": "6184477b-eb76-4e75-aff8-9369cdb73675"
										}
									]
								},
								"description": "Modification du status d'un event - 204"
							},
							"response": []
						},
						{
							"name": "reouverture_dossier",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});\r",
											"\r",
											"pm.test(\"successful operation\", () => {\r",
											"  pm.response.to.have.status(\"No Content\");\r",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{currentOSLToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n \"globalStatus\": \"HUBEE_NOTIFIED\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/teledossiers/{{version}}/folders/:folderId",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"teledossiers",
										"{{version}}",
										"folders",
										":folderId"
									],
									"variable": [
										{
											"key": "folderId",
											"value": "{{latestFolderCreated}}",
											"description": "f47f8a38-efc1-4dcf-9829-375e4ebc2675"
										}
									]
								}
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "G - Création d'un event",
			"item": [
				{
					"name": "MSG",
					"item": [
						{
							"name": "pour le status ADD WAITING",
							"item": [
								{
									"name": "1 - SI",
									"item": [
										{
											"name": "Création d'un historique",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"const responseJson = pm.response.json();\r",
															"pm.environment.set('latestEventCreated', responseJson.id);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentSIToken}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"actionType\": \"ADD_AWAITING\",\r\n    \"author\": \"George DUBOIS\",\r\n    \"notification\": true,\r\n    \"message\": \"j'ai besoin de compléments\",\r\n    \"caseCurrentStatus\": \"IN_PROGRESS\",\r\n    \"caseNewStatus\": \"ADD_AWAITING\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId",
														"events"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "{{latestCaseCreatedPOF}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "modification du status en ADD_WAITING",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"204\", function () {\r",
															"    pm.response.to.have.status(204);\r",
															"});\r",
															"\r",
															"pm.test(\"No Content\", () => {\r",
															"  pm.response.to.have.status(\"No Content\");\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentSIToken}}",
															"type": "string"
														}
													]
												},
												"method": "PATCH",
												"header": [],
												"body": {
													"mode": "raw",
													"raw": "{\r\n  \"status\": \"ADD_AWAITING\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "{{latestCaseCreatedPOF}}"
														}
													]
												}
											},
											"response": []
										}
									]
								},
								{
									"name": "2 - OSL",
									"item": [
										{
											"name": "Création d'un event",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"const responseJson = pm.response.json();\r",
															"pm.environment.set('latestEventCreated', responseJson.id);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentOSLToken}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"actionType\": \"SENDING_MESSAGE\",\r\n    \"author\": \"George DUBOIS\",\r\n    \"notification\": true,\r\n    \"message\": \"je n'ai pas plus d'informations\",\r\n    \"caseCurrentStatus\": \"ADD_AWAITING\",\r\n    \"caseNewStatus\": \"HUBEE_COMPLETED\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId",
														"events"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "{{latestCaseCreatedPOF}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Modification du status du case",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"204\", function () {\r",
															"    pm.response.to.have.status(204);\r",
															"});\r",
															"\r",
															"pm.test(\"No Content\", () => {\r",
															"  pm.response.to.have.status(\"No Content\");\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentOSLToken}}",
															"type": "string"
														}
													]
												},
												"method": "PATCH",
												"header": [],
												"body": {
													"mode": "raw",
													"raw": "{\r\n  \"status\": \"HUBEE_COMPLETED\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "{{latestCaseCreatedPOF}}"
														}
													]
												}
											},
											"response": []
										}
									]
								}
							]
						},
						{
							"name": "pour le status REFUSED",
							"item": [
								{
									"name": "1 - SI",
									"item": [
										{
											"name": "Création d'un historique",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"const responseJson = pm.response.json();\r",
															"pm.environment.set('latestEventCreated', responseJson.id);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentSIToken}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"actionType\": \"ADD_AWAITING\",\r\n    \"author\": \"George DUBOIS\",\r\n    \"notification\": true,\r\n    \"message\": \"j'ai besoin de compléments\",\r\n    \"caseCurrentStatus\": \"IN_PROGRESS\",\r\n    \"caseNewStatus\": \"REFUSED\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId",
														"events"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "{{latestCaseCreatedPOF}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "modification du status en REFUSED",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"204\", function () {\r",
															"    pm.response.to.have.status(204);\r",
															"});\r",
															"\r",
															"pm.test(\"No Content\", () => {\r",
															"  pm.response.to.have.status(\"No Content\");\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentSIToken}}",
															"type": "string"
														}
													]
												},
												"method": "PATCH",
												"header": [],
												"body": {
													"mode": "raw",
													"raw": "{\r\n  \"status\": \"REFUSED\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "{{latestCaseCreatedPOF}}"
														}
													]
												}
											},
											"response": []
										}
									]
								}
							]
						}
					]
				},
				{
					"name": "PJ",
					"item": [
						{
							"name": "1 - SI",
							"item": [
								{
									"name": "recensementCitoyen",
									"item": [
										{
											"name": "Création d'un event avec PJ",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"201\", function () {\r",
															"    pm.response.to.have.status(201);\r",
															"});\r",
															"\r",
															"pm.test(\"Created\", () => {\r",
															"  pm.response.to.have.status(\"Created\");\r",
															"});\r",
															"\r",
															"const responseJson = pm.response.json();\r",
															"pm.environment.set('latestEventCreated', responseJson.id);\r",
															"pm.environment.set('eventAttach1', responseJson.attachments[0].id);\r",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentSIToken}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "",
														"value": "",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"actionType\": \"ATTACH_DEPOSIT\",\r\n    \"author\": \"George DUBOIS\",\r\n    \"notification\": true,\r\n    \"caseCurrentStatus\": \"IN_PROGRESS\",\r\n    \"caseNewStatus\": \"DONE\",\r\n    \"attachments\": [\r\n        {\r\n            \"fileName\": \"10870-XML.xml\",\r\n            \"type\": \"10870-XML\",\r\n            \"size\": 3514,\r\n            \"mimeType\": \"application/xml\"\r\n        }\r\n    ]\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId",
														"events"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "{{latestCaseCreatedPOF}}",
															"description": "da70c8d6-0610-44a0-a914-276edcfd265d"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "upload event attachment pour l'OSL",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"204\", function () {\r",
															"    pm.response.to.have.status(204);\r",
															"});\r",
															"\r",
															"pm.test(\"No Content\", () => {\r",
															"  pm.response.to.have.status(\"No Content\");\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentSIToken}}",
															"type": "string"
														}
													]
												},
												"method": "PUT",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/octet-stream",
														"type": "text"
													}
												],
												"body": {
													"mode": "file",
													"file": {
														"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique_V1.7/JDD/RECENSEMENTCITOYEN/10870-XML.xml"
													}
												},
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId",
														"events",
														":eventId",
														"attachments",
														":attachmentId"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "{{latestCaseCreatedPOF}}",
															"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
														},
														{
															"key": "eventId",
															"value": "{{latestEventCreated}}",
															"description": "4a70ed55-45d7-4773-9ed3-782f996d4968"
														},
														{
															"key": "attachmentId",
															"value": "{{eventAttach1}}",
															"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Modification du status du case",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"204\", function () {\r",
															"    pm.response.to.have.status(204);\r",
															"});\r",
															"\r",
															"pm.test(\"No Content\", () => {\r",
															"  pm.response.to.have.status(\"No Content\");\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentSIToken}}",
															"type": "string"
														}
													]
												},
												"method": "PATCH",
												"header": [],
												"body": {
													"mode": "raw",
													"raw": "{\r\n  \"status\": \"DONE\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "{{latestCaseCreatedPOF}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "case by caseId EventId",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"204\", function () {\r",
															"    pm.response.to.have.status(204);\r",
															"});\r",
															"\r",
															"pm.test(\"No Content\", () => {\r",
															"  pm.response.to.have.status(\"No Content\");\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentSIToken}}",
															"type": "string"
														}
													]
												},
												"method": "PATCH",
												"header": [],
												"body": {
													"mode": "raw",
													"raw": "{\r\n  \"status\": \"SENT\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId",
														"events",
														":eventId"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "{{latestCaseCreatedPOF}}",
															"description": "subfolder d2ff34aa-e848-4ae9-b313-bb002eef2c14"
														},
														{
															"key": "eventId",
															"value": "{{latestEventCreated}}",
															"description": "6184477b-eb76-4e75-aff8-9369cdb73675"
														}
													]
												},
												"description": "Modification du status d'un event - 204"
											},
											"response": []
										}
									]
								}
							]
						},
						{
							"name": "2 - OSL",
							"item": [
								{
									"name": "recensementCitoyen",
									"item": [
										{
											"name": "Création d'un event avec PJ",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"201\", function () {\r",
															"    pm.response.to.have.status(201);\r",
															"});\r",
															"\r",
															"pm.test(\"Created\", () => {\r",
															"  pm.response.to.have.status(\"Created\");\r",
															"});\r",
															"\r",
															"const responseJson = pm.response.json();\r",
															"pm.environment.set('latestEventCreated', responseJson.id);\r",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentOSLToken}}",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "",
														"value": "",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"actionType\": \"ATTACH_DEPOSIT\",\r\n    \"author\": \"George DUBOIS\",\r\n    \"notification\": true,\r\n    \"caseCurrentStatus\": \"ADD_AWAITING\",\r\n    \"caseNewStatus\": \"HUBEE_NOTIFIED\",\r\n    \"attachments\": [\r\n        {\r\n            \"fileName\": \"ER20190860001_20190517_1512_VA.pdf\",\r\n            \"type\": \"VA_CertificatdeDeces\",\r\n            \"size\": 219619,\r\n            \"mimeType\": \"application/pdf\"\r\n        },\r\n        {\r\n            \"fileName\": \"ER20190860001_20190517_1512_VA.xml\",\r\n            \"type\": \"VA_CertificatdeDeces\",\r\n            \"size\": 6916,\r\n            \"mimeType\": \"application/xml\"\r\n        }\r\n    ]\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId",
														"events"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "4d1459c9-ca33-412e-b1d4-ef3a6acc217e",
															"description": "da70c8d6-0610-44a0-a914-276edcfd265d"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "upload event attachment pour le SI",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"204\", function () {\r",
															"    pm.response.to.have.status(204);\r",
															"});\r",
															"\r",
															"pm.test(\"No Content\", () => {\r",
															"  pm.response.to.have.status(\"No Content\");\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentOSLToken}}",
															"type": "string"
														}
													]
												},
												"method": "PUT",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/octet-stream",
														"type": "text"
													}
												],
												"body": {
													"mode": "file",
													"file": {
														"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique_V1.7.1/JDD/CERTDC/ER20190860001_20190517_1512_VA.pdf"
													}
												},
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId",
														"events",
														":eventId",
														"attachments",
														":attachmentId"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "{{latestCaseCreatedPOF}}",
															"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
														},
														{
															"key": "eventId",
															"value": "{{latestEventCreated}}",
															"description": "4a70ed55-45d7-4773-9ed3-782f996d4968"
														},
														{
															"key": "attachmentId",
															"value": "{{eventAttach1}}",
															"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "upload event attachment pour le SI Copy",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"204\", function () {\r",
															"    pm.response.to.have.status(204);\r",
															"});\r",
															"\r",
															"pm.test(\"No Content\", () => {\r",
															"  pm.response.to.have.status(\"No Content\");\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentOSLToken}}",
															"type": "string"
														}
													]
												},
												"method": "PUT",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/octet-stream",
														"type": "text"
													}
												],
												"body": {
													"mode": "file",
													"file": {
														"src": "/C:/Users/sebastien.assali/Documents/projet/hubee/valise_générique_V1.7.1/JDD/CERTDC/ER20190860001_20190517_1512_VA.xml"
													}
												},
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId/attachments/:attachmentId",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId",
														"events",
														":eventId",
														"attachments",
														":attachmentId"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "{{latestCaseCreatedPOF}}",
															"description": "37df9f5b-93e4-437c-b28c-e0c8fe8c09f7"
														},
														{
															"key": "eventId",
															"value": "{{latestEventCreated}}",
															"description": "4a70ed55-45d7-4773-9ed3-782f996d4968"
														},
														{
															"key": "attachmentId",
															"value": "{{eventAttach2}}",
															"description": "1baa6c67-bbf9-4cd9-a51e-2d1572411694"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Modification du status du case",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"204\", function () {\r",
															"    pm.response.to.have.status(204);\r",
															"});\r",
															"\r",
															"pm.test(\"No Content\", () => {\r",
															"  pm.response.to.have.status(\"No Content\");\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{currentOSLToken}}",
															"type": "string"
														}
													]
												},
												"method": "PATCH",
												"header": [],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"status\": \"HUBEE_NOTIFIED\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "{{latestCaseCreatedPOF}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "case by caseId EventId",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"pm.test(\"204\", function () {\r",
															"    pm.response.to.have.status(204);\r",
															"});\r",
															"\r",
															"pm.test(\"No Content\", () => {\r",
															"  pm.response.to.have.status(\"No Content\");\r",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "bearer",
													"bearer": [
														{
															"key": "token",
															"value": "{{DGSToken}}",
															"type": "string"
														}
													]
												},
												"method": "PATCH",
												"header": [],
												"body": {
													"mode": "raw",
													"raw": "{\r\n  \"status\": \"SENT\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{baseUrl}}/teledossiers/{{version}}/cases/:caseId/events/:eventId",
													"host": [
														"{{baseUrl}}"
													],
													"path": [
														"teledossiers",
														"{{version}}",
														"cases",
														":caseId",
														"events",
														":eventId"
													],
													"variable": [
														{
															"key": "caseId",
															"value": "{{latestCaseCreatedPOF}}",
															"description": "subfolder d2ff34aa-e848-4ae9-b313-bb002eef2c14"
														},
														{
															"key": "eventId",
															"value": "{{latestEventCreated}}",
															"description": "6184477b-eb76-4e75-aff8-9369cdb73675"
														}
													]
												},
												"description": "Modification du status d'un event - 204"
											},
											"response": []
										}
									]
								}
							]
						}
					]
				}
			]
		}
	]
}